var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function a(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(t,e,o){return t[1]?n({},n(e.$$scope.ctx,t[1](o?o(e):{}))):e.$$scope.ctx}function s(t,n){t.appendChild(n)}function l(t,n,e){t.insertBefore(n,e||null)}function u(t){t.parentNode.removeChild(t)}function d(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function p(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function f(){return b(" ")}function y(){return b("")}function $(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function k(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}function v(t){return""===t?void 0:+t}function m(t,n){n=""+n,t.data!==n&&(t.data=n)}function _(t,n,e){t.style.setProperty(n,e)}function g(t,n){for(let e=0;e<t.options.length;e+=1){const o=t.options[e];if(o.__value===n)return void(o.selected=!0)}}function x(t,n,e){t.classList[e?"add":"remove"](n)}let j;function w(t){j=t}function C(){const t=j;return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach(n=>{n.call(t,r)})}}}const O=[],L=[],A=[],N=[],S=Promise.resolve();let K=!1;function J(t){A.push(t)}function V(){const t=new Set;do{for(;O.length;){const t=O.shift();w(t),T(t.$$)}for(;L.length;)L.pop()();for(let n=0;n<A.length;n+=1){const e=A[n];t.has(e)||(e(),t.add(e))}A.length=0}while(O.length);for(;N.length;)N.pop()();K=!1}function T(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(J))}const P=new Set;let B;function E(){B={r:0,c:[],p:B}}function M(){B.r||r(B.c),B=B.p}function q(t,n){t&&t.i&&(P.delete(t),t.i(n))}function z(t,n,e,o){if(t&&t.o){if(P.has(t))return;P.add(t),B.c.push(()=>{P.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}function F(t,n,o){const{fragment:a,on_mount:c,on_destroy:s,after_update:l}=t.$$;a.m(n,o),J(()=>{const n=c.map(e).filter(i);s?s.push(...n):r(n),t.$$.on_mount=[]}),l.forEach(J)}function Z(t,n){t.$$.fragment&&(r(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function R(t,n){t.$$.dirty||(O.push(t),K||(K=!0,S.then(V)),t.$$.dirty=o()),t.$$.dirty[n]=!0}function H(n,e,i,a,c,s){const l=j;w(n);const u=e.props||{},d=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:o(),dirty:null};let p=!1;d.ctx=i?i(n,u,(t,e)=>{d.ctx&&c(d.ctx[t],d.ctx[t]=e)&&(d.bound[t]&&d.bound[t](e),p&&R(n,t))}):u,d.update(),p=!0,r(d.before_update),d.fragment=a(d.ctx),e.target&&(e.hydrate?d.fragment.l(function(t){return Array.from(t.childNodes)}(e.target)):d.fragment.c(),e.intro&&q(n.$$.fragment),F(n,e.target,e.anchor),V()),w(l)}class I{$destroy(){Z(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function X(n){var e,o,r,i,a,c,d,h,y=JSON.stringify(n.keyboard,"",n.JSONminify?0:2);return{c(){e=p("div"),o=p("input"),r=f(),(i=p("label")).textContent="JSON minify",a=f(),c=p("pre"),d=b(y),k(o,"type","checkbox"),k(i,"class","svelte-vtlwtn"),k(e,"class","Rows svelte-vtlwtn"),h=$(o,"change",n.input_change_handler)},m(t,u){l(t,e,u),s(e,o),o.checked=n.JSONminify,s(e,r),s(e,i),l(t,a,u),l(t,c,u),s(c,d)},p(t,n){t.JSONminify&&(o.checked=n.JSONminify),(t.keyboard||t.JSONminify)&&y!==(y=JSON.stringify(n.keyboard,"",n.JSONminify?0:2))&&m(d,y)},i:t,o:t,d(t){t&&(u(e),u(a),u(c)),h()}}}function G(t,n,e){let{JSONminify:o=!1,keyboard:r}=n;return t.$set=t=>{"JSONminify"in t&&e("JSONminify",o=t.JSONminify),"keyboard"in t&&e("keyboard",r=t.keyboard)},{JSONminify:o,keyboard:r,input_change_handler:function(){o=this.checked,e("JSONminify",o)}}}class W extends I{constructor(t){super(),H(this,t,G,X,a,["JSONminify","keyboard"])}}function D(t){var n,e=new W({props:{keyboard:t.keyboard}});return{c(){e.$$.fragment.c()},m(t,o){F(e,t,o),n=!0},p(t,n){var o={};t.keyboard&&(o.keyboard=n.keyboard),e.$set(o)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Q(t){var n,e,o,r,i,a,c="JSON"==t.select_export&&D(t);return{c(){n=p("select"),(e=p("option")).textContent="JSON",o=f(),c&&c.c(),r=y(),e.__value="JSON",e.value=e.__value,void 0===t.select_export&&J(()=>t.select_change_handler.call(n)),k(n,"class","header svelte-1ik2r56"),a=$(n,"change",t.select_change_handler)},m(a,u){l(a,n,u),s(n,e),g(n,t.select_export),l(a,o,u),c&&c.m(a,u),l(a,r,u),i=!0},p(t,e){t.select_export&&g(n,e.select_export),"JSON"==e.select_export?c?(c.p(t,e),q(c,1)):((c=D(e)).c(),q(c,1),c.m(r.parentNode,r)):c&&(E(),z(c,1,1,()=>{c=null}),M())},i(t){i||(q(c),i=!0)},o(t){z(c),i=!1},d(t){t&&(u(n),u(o)),c&&c.d(t),t&&u(r),a()}}}function U(t,n,e){let o,{keyboard:r}=n;return t.$set=t=>{"keyboard"in t&&e("keyboard",r=t.keyboard)},{select_export:o,keyboard:r,select_change_handler:function(){o=function(t){const n=t.querySelector(":checked")||t.options[0];return n&&n.__value}(this),e("select_export",o)}}}class Y extends I{constructor(t){super(),H(this,t,U,Q,a,["keyboard"])}}function tt(t){var n,e;return{c(){n=h("svg"),k(e=h("path"),"fill","#528bcc"),k(e,"d","M14.5,19h3A1.5,1.5,0,0,0,19,17.5v-3A1.5,1.5,0,0,0,17.5,13h-3A1.5,1.5,0,0,0,13,14.5v3A1.5,1.5,0,0,0,14.5,19ZM11,17.5v-3A1.5,1.5,0,0,0,9.5,13h-3A1.5,1.5,0,0,0,5,14.5v3A1.5,1.5,0,0,0,6.5,19h3A1.5,1.5,0,0,0,11,17.5ZM6.5,11h3A1.5,1.5,0,0,0,11,9.5v-3A1.5,1.5,0,0,0,9.5,5h-3A1.5,1.5,0,0,0,5,6.5v3A1.5,1.5,0,0,0,6.5,11Zm6.32-1.94,2.12,2.12a1.49,1.49,0,0,0,2.12,0l2.12-2.12a1.49,1.49,0,0,0,0-2.12L17.06,4.82a1.49,1.49,0,0,0-2.12,0L12.82,6.94A1.49,1.49,0,0,0,12.82,9.06Z"),k(n,"xmlns","http://www.w3.org/2000/svg"),k(n,"viewBox","0 0 24 24"),k(n,"class","svelte-1hpin84")},m(t,o){l(t,n,o),s(n,e)},d(t){t&&u(n)}}}function nt(t){var n,e;return{c(){n=h("svg"),k(e=h("path"),"fill","#528bcc"),k(e,"d","M6,10q0,3.27,5,9.14h0a1.29,1.29,0,0,0,1.82.14l.14-.14q5-5.88,5-9.14a5.78,5.78,0,0,0-6-6A5.78,5.78,0,0,0,6,10Zm4,0a2,2,0,1,1,2,2A2,2,0,0,1,10,10Z"),k(n,"xmlns","http://www.w3.org/2000/svg"),k(n,"viewBox","0 0 24 24"),k(n,"class","svelte-1hpin84")},m(t,o){l(t,n,o),s(n,e)},d(t){t&&u(n)}}}function et(t){var n,e;return{c(){n=h("svg"),k(e=h("path"),"fill","#FFFFFF"),k(e,"fill-rule","evenodd"),k(e,"d","M28.0263591 7.94C28.5175203 7.94 28.9858297 8.04049933 29.4313015\n          8.24150101 29.8767732 8.44250268 30.2679829 8.72390081 30.6049423\n          9.08570383 30.9419017 9.44750684 31.210323 9.87534685 31.4102142\n          10.3692367 31.6101053 10.8631265 31.7100494 11.4029515 31.7100494\n          11.9887278 31.7100494 12.5745041 31.6101053 13.1143291 31.4102142\n          13.6082189 31.210323 14.1021088 30.9419017 14.5299488 30.6049423\n          14.8917518 30.2679829 15.2535548 29.8767732 15.5349529 29.4313015\n          15.7359546 28.9858297 15.9369563 28.5175203 16.0374556 28.0263591\n          16.0374556 27.6951109 16.0374556 27.4067008 15.9972559 27.1611203\n          15.9168552 26.9155397 15.8364545 26.7013738 15.7503123 26.5186161\n          15.6584258 26.3130138 15.5435677 26.1302589 15.4114828 25.970346\n          15.2621673L25.970346 18.7078931 24 18.7078931 24 8.02614314 25.4563427\n          8.02614314 25.7990115 8.80143145C25.9703468 8.64063011 26.170235\n          8.49705963 26.398682 8.37071572 26.592862 8.26734343 26.8270168\n          8.16971551 27.1011532 8.07782903 27.3752897 7.98594255 27.6836886 7.94\n          28.0263591 7.94zM25.7990115 11.9887278C25.7990115 12.643419 25.9874775\n          13.1660155 26.3644152 13.556533 26.7413528 13.9470506 27.2096622\n          14.1423064 27.7693575 14.1423064 28.3290528 14.1423064 28.7973622\n          13.9470506 29.1742998 13.556533 29.5512375 13.1660155 29.7397035\n          12.643419 29.7397035 11.9887278 29.7397035 11.3340366 29.5512375\n          10.8114401 29.1742998 10.4209226 28.7973622 10.030405 28.3290528\n          9.83514919 27.7693575 9.83514919 27.2096622 9.83514919 26.7413528\n          10.030405 26.3644152 10.4209226 25.9874775 10.8114401 25.7990115\n          11.3340366 25.7990115 11.9887278zM36.339374 7.94C36.7848457 7.94\n          37.1960442 8.01752806 37.5729819 8.17258649 37.9499195 8.32764493\n          38.2754517 8.54300064 38.5495881 8.81866008 38.8237246 9.09431952\n          39.0378905 9.4216602 39.1920923 9.80069193 39.346294 10.1797237\n          39.4233937 10.5932066 39.4233937 11.0411532L39.4233937 15.9513125\n          37.9670511 15.9513125 37.6243822 15.1760242C37.4416246 15.3368255\n          37.2417364 15.480396 37.0247117 15.6067399 36.8305317 15.721598\n          36.596377 15.8220973 36.3222405 15.9082409 36.0481041 15.9943845\n          35.7397052 16.0374556 35.3970346 16.0374556 34.5403582 16.0374556\n          33.8835827 15.8278427 33.4266886 15.4086107 32.9697945 14.9893786\n          32.7413509 14.452425 32.7413509 13.7977338 32.7413509 13.4072163\n          32.8184506 13.0482901 32.9726524 12.7209445 33.1268541 12.3935989\n          33.3867088 12.1122008 33.7522241 11.8767417 34.1177393 11.6412826\n          34.6003265 11.4575124 35.2 11.3254256 35.7996735 11.1933388 36.5506819\n          11.1272964 37.4530478 11.1272964 37.4530478 10.6908356 37.3359704\n          10.3520093 37.1018122 10.1108072 36.867654 9.86960524 36.5563995\n          9.74900604 36.1680395 9.74900604 35.9053254 9.74900604 35.6968706\n          9.79494859 35.5426689 9.88683507 35.3884671 9.97872155 35.2656787\n          10.0763495 35.1742998 10.1797218 35.0714987 10.3060657 35.0029656\n          10.4496361 34.9686985 10.6104375L32.9983526 10.6104375C33.044042\n          10.2428916 33.1496971 9.89832243 33.3153213 9.57671975 33.4809454\n          9.25511707 33.7065334 8.97371894 33.9920923 8.73251693 34.2776511\n          8.49131492 34.617461 8.29893049 35.0115321 8.15535786 35.4056033\n          8.01178524 35.8482128 7.94 36.339374 7.94zM35.7397035\n          14.486879C36.2537093 14.486879 36.6677634 14.3346943 36.9818781\n          14.0303203 37.2959928 13.7259464 37.4530478 13.3325633 37.4530478\n          12.8501593L37.4530478 12.5055867C36.8705078 12.5055867 36.4021984\n          12.5314294 36.0481054 12.5831155 35.6940125 12.6348016 35.4170246\n          12.7094583 35.2171334 12.8070877 35.0172423 12.9047171 34.8830316\n          13.0224449 34.8144975 13.1602746 34.7459634 13.2981043 34.7116969\n          13.4531604 34.7116969 13.6254476 34.7116969 13.8436779 34.8087854\n          14.0418052 35.0029654 14.2198353 35.1971454 14.3978653 35.4427223\n          14.486879 35.7397035 14.486879zM40.1186161 8.02614314L42.1746293\n          8.02614314 44.1449753 13.1947318 45.9439868 8.02614314 48\n          8.02614314C47.4403047 9.47335521 46.9320177 10.7827179 46.4751236\n          11.9542705 46.2809436 12.4596462 46.089622 12.9535286 45.9011532\n          13.4359326 45.7126844 13.9183367 45.5442072 14.3576623 45.3957166\n          14.7539228 45.2472261 15.1501832 45.1215821 15.4803953 45.0187809\n          15.7445689 44.9159797 16.0087425 44.8531577 16.1637987 44.830313\n          16.2097419 44.636133 16.6806601 44.4448115 17.079786 44.2563427\n          17.4071316 44.0678739 17.7344772 43.8651301 18.0015183 43.6481054\n          18.2082629 43.4310807 18.4150074 43.196926 18.5643207 42.9456343\n          18.6562072 42.6943425 18.7480937 42.408788 18.7940362 42.0889621\n          18.7940362 41.9975833 18.7940362 41.9090614 18.7911648 41.8233937\n          18.7854219 41.7377261 18.779679 41.6663375 18.7710648 41.6092257\n          18.759579 41.5292692 18.7480932 41.4607361 18.7308647 41.4036244\n          18.7078931L41.4036244 17.0711733C41.8376738 17.0711733 42.1717726\n          16.9735454 42.4059308 16.7782867 42.640089 16.5830279 42.8199884\n          16.3360867 42.9456343 16.0374556L43.1169687 15.6067399 40.1186161\n          8.02614314zM9.54666667 4C14.0266667 4 9.97333333 4 14.4533333 4\n          18.9333333 4 20 5.06666667 20 9.54666667 20 14.0266667 20 9.97333333\n          20 14.4533333 20 18.9333333 18.9333333 20 14.4533333 20 9.97333333 20\n          14.0266667 20 9.54666667 20 5.06666667 20 4 18.9333333 4 14.4533333 4\n          9.97333333 4 12.0483607 4 9.54666667 4 5.06666667 5.06666667 4\n          9.54666667 4zM17.1861661 9.42885176C17.2602965 9.18164766 17.1861661 9\n          16.8333537 9L15.666687 9C15.3700421 9 15.2332845 9.15691696 15.159113\n          9.32994954 15.159113 9.32994954 14.5658232 10.7760781 13.7253498\n          11.7154331 13.4534356 11.9873473 13.3298232 12.0738636 13.1815008\n          12.0738636 13.1073498 12.0738636 13 11.9873473 13 11.7401638L13\n          9.42885176C13 9.13220684 12.9139117 9 12.666687 9L10.8333537\n          9C10.6479763 9 10.5364889 9.13767969 10.5364889 9.26816395 10.5364889\n          9.5493779 10.956705 9.61422912 11.0000203 10.4052822L11.0000203\n          12.123325C11.0000203 12.5 10.9319949 12.5682924 10.7836724 12.5682924\n          10.3881665 12.5682924 9.42609705 11.1157034 8.85550102 9.45356188\n          8.74367794 9.13049914 8.63152112 9 8.33335368 9L7.16668701\n          9C6.83335368 9 6.76668294 9.15691696 6.76668294 9.32994954 6.76668294\n          9.63895981 7.16220951 11.1716047 8.60831749 13.1986372 9.57238263\n          14.582939 10.9306871 15.3333333 12.166687 15.3333333 12.9082787\n          15.3333333 13.0000203 15.1666667 13.0000203 14.8795839L13.0000203\n          13.8333333C13.0000203 13.5 13.0702744 13.4334759 13.3051131 13.4334759\n          13.4781457 13.4334759 13.7747906 13.5199922 14.4669621 14.187433\n          15.2579947 14.9784655 15.3884069 15.3333333 15.8333537\n          15.3333333L17.0000203 15.3333333C17.3333537 15.3333333 17.5000203\n          15.1666667 17.4038729 14.8377593 17.2986588 14.5099509 16.9209835\n          14.0343445 16.4198437 13.4705514 16.1479089 13.1491963 15.7400375\n          12.8031312 15.6164252 12.6300574 15.4433926 12.4076046 15.4928334\n          12.3087024 15.6164252 12.1109597 15.6164252 12.1109597 17.0378436\n          10.1086373 17.1861661 9.42885176z"),k(n,"xmlns","http://www.w3.org/2000/svg"),k(n,"viewBox","0 0 52 24"),k(n,"class","svelte-1hpin84")},m(t,o){l(t,n,o),s(n,e)},d(t){t&&u(n)}}}function ot(t){var n,e;return{c(){n=h("svg"),k(e=h("path"),"fill","none"),k(e,"stroke-linecap","round"),k(e,"stroke-width","1.7"),k(e,"stroke-linejoin","round"),k(e,"stroke","#528bcc"),k(e,"d","M6 4h6v6m-1-5l-6 6"),k(n,"xmlns","http://www.w3.org/2000/svg"),k(n,"viewBox","0 0 16 16"),k(n,"class","svelte-1hpin84")},m(t,o){l(t,n,o),s(n,e)},d(t){t&&u(n)}}}function rt(n){var e,o,r,i,a,c,d,h,y=n.text(n.type,n.label);function v(t){return"location"==t.type?nt:"open_app"==t.type?tt:void 0}var _=v(n),g=_&&_(n),j="vkpay"==n.type&&et(),w="open_link"==n.type&&ot();return{c(){e=p("div"),g&&g.c(),o=f(),r=p("span"),i=b(y),a=f(),j&&j.c(),c=f(),w&&w.c(),k(r,"class","svelte-1hpin84"),k(e,"class",d="button "+n.background(n.type,n.color)+" svelte-1hpin84"),x(e,"bold",n.bold),x(e,"select",n.select),h=$(e,"click",n.click_handler)},m(t,n){l(t,e,n),g&&g.m(e,null),s(e,o),s(e,r),s(r,i),s(e,a),j&&j.m(e,null),s(e,c),w&&w.m(e,null)},p(t,n){_!==(_=v(n))&&(g&&g.d(1),(g=_&&_(n))&&(g.c(),g.m(e,o))),(t.type||t.label)&&y!==(y=n.text(n.type,n.label))&&m(i,y),"vkpay"==n.type?j||((j=et()).c(),j.m(e,c)):j&&(j.d(1),j=null),"open_link"==n.type?w||((w=ot()).c(),w.m(e,null)):w&&(w.d(1),w=null),(t.type||t.color)&&d!==(d="button "+n.background(n.type,n.color)+" svelte-1hpin84")&&k(e,"class",d),(t.background||t.type||t.color||t.bold)&&x(e,"bold",n.bold),(t.background||t.type||t.color||t.select)&&x(e,"select",n.select)},i:t,o:t,d(t){t&&u(e),g&&g.d(),j&&j.d(),w&&w.d(),h()}}}function it(t,n,e){const o=C();let{label:r="",color:i="",type:a="",select:c=!1}=n,s=!1;return t.$set=t=>{"label"in t&&e("label",r=t.label),"color"in t&&e("color",i=t.color),"type"in t&&e("type",a=t.type),"select"in t&&e("select",c=t.select)},t.$$.update=(t={type:1})=>{t.type&&e("bold",s="text"!=a)},{dispatch:o,label:r,color:i,type:a,select:c,text:(t,n)=>{switch(t){case"location":return"Отправить своё местоположение";case"vkpay":return"Оплатить через";default:return n}},background:(t,n)=>{switch(t){case"location":return"secondary";case"vkpay":return"primary";case"open_app":case"open_link":return"secondary";default:return""==n?"primary":n}},bold:s,click_handler:function(){return o("click")}}}class at extends I{constructor(t){super(),H(this,t,it,rt,a,["label","color","type","select"])}}function ct(t){var e,o;const r=t.$$slots.default,i=function(t,n,e){if(t){const o=c(t,n,e);return t[0](o)}}(r,t,null);return{c(){e=p("div"),i&&i.c(),k(e,"class","Buttons svelte-mz8d1n")},l(t){i&&i.l(div_nodes)},m(t,n){l(t,e,n),i&&i.m(e,null),o=!0},p(t,e){i&&i.p&&t.$$scope&&i.p(function(t,e,o,r){return t[1]?n({},n(e.$$scope.changed||{},t[1](r?r(o):{}))):e.$$scope.changed||{}}(r,e,t,null),c(r,e,null))},i(t){o||(q(i,t),o=!0)},o(t){z(i,t),o=!1},d(t){t&&u(e),i&&i.d(t)}}}function st(t,n,e){let{$$slots:o={},$$scope:r}=n;return t.$set=t=>{"$$scope"in t&&e("$$scope",r=t.$$scope)},{$$slots:o,$$scope:r}}class lt extends I{constructor(t){super(),H(this,t,st,ct,a,[])}}class ut{constructor(){this.dict={}}add(t){void 0===this.dict[t]&&(this.dict[t]=0),this.dict[t]++}}function dt(){}class pt{constructor(t=dt){this._subscriber_queue=[],this._subscribers=[],this._start=t}_notifyAll(){const t=!this._subscriber_queue.length;for(let t=0;t<this._subscribers.length;t+=1){const n=this._subscribers[t];n[1](),this._subscriber_queue.push(n,this)}if(t){for(let t=0;t<this._subscriber_queue.length;t+=2)this._subscriber_queue[t][0](this._subscriber_queue[t+1]);this._subscriber_queue.length=0}}subscribe(t,n=dt){const e=[t,n];return this._subscribers.push(e),1===this._subscribers.length&&(this._stop=this._start(this.set)||dt),t(this),()=>{const t=this._subscribers.indexOf(e);-1!==t&&this._subscribers.splice(t,1),0===this._subscribers.length&&(this._stop(),this._stop=null)}}set(t){Object.getOwnPropertyNames(this).filter(t=>!t.startsWith("_")).forEach(n=>{t[n]&&(this[n]=t[n])}),this._stop&&this._notifyAll()}update(t){this.set(t(this))}}function ht(t){const n=[];return void 0===t?(n.push("label is required"),n):(t.length<1&&n.push("label should be at least 1 letters length"),t.length>40&&n.push("label should be not more than 40 letters length"),n)}function bt(t){const n=[];if(void 0===t||""===t)return n;t.length>255&&n.push("payload should be not more than 255 letters length");try{JSON.parse(t)}catch(t){n.push("payload contains incorrect JSON")}return n}var ft,yt;!function(t){t.Text="text",t.OpenLink="open_link",t.Location="location",t.VKPay="vkpay",t.VKApps="open_app"}(ft||(ft={})),function(t){t.Primary="primary",t.Secondary="secondary",t.Negative="negative",t.Positive="positive"}(yt||(yt={}));class $t{constructor(){this.type=ft.Text,this.label="label",this.payload=""}check(){const t=[];return t.push(...ht(this.label)),t.push(...bt(this.payload)),t}}class kt{constructor(){this.type=ft.OpenLink,this.link="https://vk.com",this.label="label",this.payload=""}check(){const t=[];if(t.push(...ht(this.label)),t.push(...bt(this.payload)),void 0===this.link)t.push("link is required");else{new RegExp("^(http(s)?:\\/\\/)([^/?#]+)([^?#]*)(\\?([^#]*))?(#(.*))?").test(this.link)||t.push("has invalid link")}return t}}class vt{constructor(){this.type=ft.Location,this.payload=""}check(){const t=[];return t.push(...bt(this.payload)),t}}class mt{constructor(){this.type=ft.VKPay,this.payload="",this.hash=""}check(){const t=[];return t.push(...bt(this.payload)),t}}class _t{constructor(){this.type=ft.VKApps,this.app_id=0,this.owner_id=0,this.payload="",this.label="label",this.hash=""}check(){const t=[];return t.push(...ht(this.label)),t.push(...bt(this.payload)),void 0!==this.hash&&this.hash.length>500&&t.push("hash should be not more than 500 letters length"),void 0===this.app_id&&t.push("app_id is required"),t}}class gt extends pt{constructor(){super(),this.action=new $t,this.color=yt.Primary}toText(){this.action=new $t,this.color=yt.Primary,this._notifyAll()}toOpenLink(){this.action=new kt,this.color=void 0,this._notifyAll()}toLocation(){this.action=new vt,this.color=void 0,this._notifyAll()}toVKPay(){this.action=new mt,this.color=void 0,this._notifyAll()}toVKApps(){this.action=new _t,this.color=void 0,this._notifyAll()}changeColor(t){this.action.type===ft.Text&&(this.color=t,this._notifyAll())}toJSON(){return{action:this.action,color:this.color}}check(){const t=[];return void 0===this.action?t.push("has invalid action"):t.push(...this.action.check()),t}}class xt extends pt{constructor(){super(),this.buttons=[],this.crutch=!1,this.toKeyboard()}toKeyboard(){this.inline=void 0,this._notifyAll()}toInlineKeyboard(){this.one_time=void 0,this.inline=!0,this._notifyAll()}toJSON(){return{one_time:this.one_time,buttons:this.buttons,inline:this.inline}}addLastRow(){this.buttons.push([]),this.addColumn(this.buttons.length-1)}addColumn(t){const n=new gt;this.buttons[t].push(n),n.subscribe(()=>{this._notifyAll()}),this._notifyAll()}removeButton(t,n){this.buttons[t].splice(n,1),this.buttons[t].length<1&&this.buttons.splice(t,1),this._notifyAll()}check(){let t="";if(this.one_time&&this.inline&&(t+="one_time field is not available for inline keyboard\n"),void 0===this.buttons)t+="buttons property should be array\n";else{let n=0;this.buttons.forEach((e,o)=>{e.length<1&&(t+=`the row ${o} empty\n`);const r=new ut;e.forEach((e,i)=>{n++,r.add(e.action.type),e.check().forEach(n=>{t+=`button [${o}][${i}]: ${n}\n`})}),r.dict[ft.VKPay]&&e.length>1&&(t+=`the row ${o} with button of type vkpay can contain only 1 button(s)\n`),r.dict[ft.Location]&&e.length>2&&(t+=`the row ${o} with button of type location can contain only 2 button(s)\n`),r.dict[ft.VKApps]&&e.length>2&&(t+=`the row ${o} with button of type open_app can contain only 2 button(s)\n`),r.dict[ft.OpenLink]&&e.length>2&&(t+=`the row ${o} with button of type open_link can contain only 2 button(s)\n`),this.inline,e.length>5&&(t+=`the row ${o} contains too much columns (max 5)\n`)}),this.inline?(this.buttons.length>6&&(t+="buttons contain too much rows (max 6)\n"),n>10&&(t+="keyboard contains too much buttons (max 10)\n")):(this.buttons.length>10&&(t+="buttons contain too much rows (max 10)\n"),n>40&&(t+="keyboard contains too much buttons (max 40)\n"))}return t}}function jt(t,n,e){const o=Object.create(t);return o.color=n[e],o}function wt(t,n,e){const o=Object.create(t);return o.err=n[e],o}function Ct(t,n,e){const o=Object.create(t);return o.err=n[e],o}function Ot(t,n,e){const o=Object.create(t);return o.button=n[e],o.jj=e,o}function Lt(t,n,e){const o=Object.create(t);return o.buttons=n[e],o.ii=e,o}function At(t){var n;var e=new at({props:{type:t.button.action.type,label:t.button.action.label,color:t.button.color,select:t.i==t.ii&&t.j==t.jj}});return e.$on("click",(function(){return t.click_handler(t)})),{c(){e.$$.fragment.c()},m(t,o){F(e,t,o),n=!0},p(n,o){t=o;var r={};n.$keyboard&&(r.type=t.button.action.type),n.$keyboard&&(r.label=t.button.action.label),n.$keyboard&&(r.color=t.button.color),(n.i||n.j)&&(r.select=t.i==t.ii&&t.j==t.jj),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Nt(t){for(var n,e,o=t.buttons,r=[],i=0;i<o.length;i+=1)r[i]=At(Ot(t,o,i));const a=t=>z(r[t],1,1,()=>{r[t]=null});return{c(){for(var t=0;t<r.length;t+=1)r[t].c();n=y()},m(t,o){for(var i=0;i<r.length;i+=1)r[i].m(t,o);l(t,n,o),e=!0},p(t,e){if(t.$keyboard||t.i||t.j){o=e.buttons;for(var i=0;i<o.length;i+=1){const a=Ot(e,o,i);r[i]?(r[i].p(t,a),q(r[i],1)):(r[i]=At(a),r[i].c(),q(r[i],1),r[i].m(n.parentNode,n))}for(E(),i=o.length;i<r.length;i+=1)a(i);M()}},i(t){if(!e){for(var n=0;n<o.length;n+=1)q(r[n]);e=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)z(r[t]);e=!1},d(t){d(r,t),t&&u(n)}}}function St(t){var n,e;function o(){return t.click_handler_1(t)}return{c(){(n=p("div")).textContent="+",k(n,"class","button-add svelte-fxtk2f"),e=$(n,"click",o)},m(t,e){l(t,n,e)},p(n,e){t=e},d(t){t&&u(n),e()}}}function Kt(t){var n,e,o,r=new lt({props:{$$slots:{default:[Nt]},$$scope:{ctx:t}}}),i=t.keyboard.buttons[t.ii].length<5&&St(t);return{c(){n=p("div"),r.$$.fragment.c(),e=f(),i&&i.c(),k(n,"class","row svelte-fxtk2f")},m(t,a){l(t,n,a),F(r,n,null),s(n,e),i&&i.m(n,null),o=!0},p(t,e){var o={};(t.$$scope||t.$keyboard||t.i||t.j)&&(o.$$scope={changed:t,ctx:e}),r.$set(o),e.keyboard.buttons[e.ii].length<5?i||((i=St(e)).c(),i.m(n,null)):i&&(i.d(1),i=null)},i(t){o||(q(r.$$.fragment,t),o=!0)},o(t){z(r.$$.fragment,t),o=!1},d(t){t&&u(n),Z(r),i&&i.d()}}}function Jt(t){var n,e;return{c(){(n=p("div")).textContent="Добавить",k(n,"class","button-add svelte-fxtk2f"),e=$(n,"click",t.click_handler_2)},m(t,e){l(t,n,e)},d(t){t&&u(n),e()}}}function Vt(t){var n,e,o,r,i,a=new at({props:{label:"Text",color:t.$keyboard.buttons[t.i][t.j].action.type===ft.Text?"primary":"secondary"}});a.$on("click",t.click_handler_3);var c=new at({props:{label:"Open Link",color:t.$keyboard.buttons[t.i][t.j].action.type===ft.OpenLink?"primary":"secondary"}});c.$on("click",t.click_handler_4);var s=new at({props:{label:"Location",color:t.$keyboard.buttons[t.i][t.j].action.type===ft.Location?"primary":"secondary"}});s.$on("click",t.click_handler_5);var d=new at({props:{label:"VK Pay",color:t.$keyboard.buttons[t.i][t.j].action.type===ft.VKPay?"primary":"secondary"}});d.$on("click",t.click_handler_6);var p=new at({props:{label:"VK Apps",color:t.$keyboard.buttons[t.i][t.j].action.type===ft.VKApps?"primary":"secondary"}});return p.$on("click",t.click_handler_7),{c(){a.$$.fragment.c(),n=f(),c.$$.fragment.c(),e=f(),s.$$.fragment.c(),o=f(),d.$$.fragment.c(),r=f(),p.$$.fragment.c()},m(t,u){F(a,t,u),l(t,n,u),F(c,t,u),l(t,e,u),F(s,t,u),l(t,o,u),F(d,t,u),l(t,r,u),F(p,t,u),i=!0},p(t,n){var e={};(t.$keyboard||t.i||t.j||t.ButtonType)&&(e.color=n.$keyboard.buttons[n.i][n.j].action.type===ft.Text?"primary":"secondary"),a.$set(e);var o={};(t.$keyboard||t.i||t.j||t.ButtonType)&&(o.color=n.$keyboard.buttons[n.i][n.j].action.type===ft.OpenLink?"primary":"secondary"),c.$set(o);var r={};(t.$keyboard||t.i||t.j||t.ButtonType)&&(r.color=n.$keyboard.buttons[n.i][n.j].action.type===ft.Location?"primary":"secondary"),s.$set(r);var i={};(t.$keyboard||t.i||t.j||t.ButtonType)&&(i.color=n.$keyboard.buttons[n.i][n.j].action.type===ft.VKPay?"primary":"secondary"),d.$set(i);var l={};(t.$keyboard||t.i||t.j||t.ButtonType)&&(l.color=n.$keyboard.buttons[n.i][n.j].action.type===ft.VKApps?"primary":"secondary"),p.$set(l)},i(t){i||(q(a.$$.fragment,t),q(c.$$.fragment,t),q(s.$$.fragment,t),q(d.$$.fragment,t),q(p.$$.fragment,t),i=!0)},o(t){z(a.$$.fragment,t),z(c.$$.fragment,t),z(s.$$.fragment,t),z(d.$$.fragment,t),z(p.$$.fragment,t),i=!1},d(t){Z(a,t),t&&u(n),Z(c,t),t&&u(e),Z(s,t),t&&u(o),Z(d,t),t&&u(r),Z(p,t)}}}function Tt(t){for(var n,e,o,r,i,a,c=ht(t.$keyboard.buttons[t.i][t.j].action.label),h=[],b=0;b<c.length;b+=1)h[b]=Pt(Ct(t,c,b));return{c(){n=p("div"),(e=p("label")).textContent="Текст",o=f(),r=p("input"),i=f();for(var c=0;c<h.length;c+=1)h[c].c();k(e,"class","svelte-fxtk2f"),k(r,"type","text"),k(r,"class","svelte-fxtk2f"),k(n,"class","block-item svelte-fxtk2f"),a=$(r,"input",t.input_input_handler)},m(a,c){l(a,n,c),s(n,e),s(n,o),s(n,r),r.value=t.$keyboard.buttons[t.i][t.j].action.label,s(n,i);for(var u=0;u<h.length;u+=1)h[u].m(n,null)},p(t,e){if((t.$keyboard||t.i||t.j)&&r.value!==e.$keyboard.buttons[e.i][e.j].action.label&&(r.value=e.$keyboard.buttons[e.i][e.j].action.label),t.checkLabel||t.$keyboard||t.i||t.j){c=ht(e.$keyboard.buttons[e.i][e.j].action.label);for(var o=0;o<c.length;o+=1){const r=Ct(e,c,o);h[o]?h[o].p(t,r):(h[o]=Pt(r),h[o].c(),h[o].m(n,null))}for(;o<h.length;o+=1)h[o].d(1);h.length=c.length}},d(t){t&&u(n),d(h,t),a()}}}function Pt(t){var n,e,o,r,i=t.err;return{c(){n=p("div"),e=p("b"),o=b(i),r=f(),k(n,"class","note svelte-fxtk2f"),_(n,"color","#db3b3b")},m(t,i){l(t,n,i),s(n,e),s(e,o),s(n,r)},p(t,n){(t.$keyboard||t.i||t.j)&&i!==(i=n.err)&&m(o,i)},d(t){t&&u(n)}}}function Bt(t){var n,e,o,r,i;return{c(){n=p("div"),(e=p("label")).textContent="Ссылка",o=f(),r=p("input"),k(e,"class","svelte-fxtk2f"),k(r,"type","text"),k(r,"class","svelte-fxtk2f"),k(n,"class","block-item svelte-fxtk2f"),i=$(r,"input",t.input_input_handler_1)},m(i,a){l(i,n,a),s(n,e),s(n,o),s(n,r),r.value=t.$keyboard.buttons[t.i][t.j].action.link},p(t,n){(t.$keyboard||t.i||t.j)&&r.value!==n.$keyboard.buttons[n.i][n.j].action.link&&(r.value=n.$keyboard.buttons[n.i][n.j].action.link)},d(t){t&&u(n),i()}}}function Et(t){var n,e,o,r,i,a,c=""===t.$keyboard.buttons[t.i][t.j].action.hash&&Mt();return{c(){n=p("div"),(e=p("label")).textContent="Параметры платежа VK Pay",o=f(),r=p("input"),i=f(),c&&c.c(),k(e,"class","svelte-fxtk2f"),k(r,"type","text"),k(r,"class","svelte-fxtk2f"),k(n,"class","block-item svelte-fxtk2f"),a=$(r,"input",t.input_input_handler_2)},m(a,u){l(a,n,u),s(n,e),s(n,o),s(n,r),r.value=t.$keyboard.buttons[t.i][t.j].action.hash,s(n,i),c&&c.m(n,null)},p(t,e){(t.$keyboard||t.i||t.j)&&r.value!==e.$keyboard.buttons[e.i][e.j].action.hash&&(r.value=e.$keyboard.buttons[e.i][e.j].action.hash),""===e.$keyboard.buttons[e.i][e.j].action.hash?c||((c=Mt()).c(),c.m(n,null)):c&&(c.d(1),c=null)},d(t){t&&u(n),c&&c.d(),a()}}}function Mt(t){var n;return{c(){(n=p("b")).textContent="Пустой hash!",k(n,"class","note svelte-fxtk2f"),_(n,"color","#db3b3b")},m(t,e){l(t,n,e)},d(t){t&&u(n)}}}function qt(t){var n,e,o,i,a,c,d,h,b,y,v,m,_,g,x,j,w=""===t.$keyboard.buttons[t.i][t.j].action.app_id&&zt();return{c(){n=p("div"),(e=p("label")).textContent="Приложение",o=f(),i=p("input"),a=f(),w&&w.c(),c=f(),d=p("div"),(h=p("label")).textContent="Идентификатор сообщества",b=f(),y=p("input"),v=f(),m=p("div"),(_=p("label")).textContent="Хэш",g=f(),x=p("input"),k(e,"class","svelte-fxtk2f"),k(i,"type","number"),k(i,"class","svelte-fxtk2f"),k(n,"class","block-item svelte-fxtk2f"),k(h,"class","svelte-fxtk2f"),k(y,"type","number"),k(y,"class","svelte-fxtk2f"),k(d,"class","block-item svelte-fxtk2f"),k(_,"class","svelte-fxtk2f"),k(x,"type","text"),k(x,"class","svelte-fxtk2f"),k(m,"class","block-item svelte-fxtk2f"),j=[$(i,"input",t.input0_input_handler),$(y,"input",t.input1_input_handler),$(x,"input",t.input2_input_handler)]},m(r,u){l(r,n,u),s(n,e),s(n,o),s(n,i),i.value=t.$keyboard.buttons[t.i][t.j].action.app_id,s(n,a),w&&w.m(n,null),l(r,c,u),l(r,d,u),s(d,h),s(d,b),s(d,y),y.value=t.$keyboard.buttons[t.i][t.j].action.owner_id,l(r,v,u),l(r,m,u),s(m,_),s(m,g),s(m,x),x.value=t.$keyboard.buttons[t.i][t.j].action.hash},p(t,e){(t.$keyboard||t.i||t.j)&&(i.value=e.$keyboard.buttons[e.i][e.j].action.app_id),""===e.$keyboard.buttons[e.i][e.j].action.app_id?w||((w=zt()).c(),w.m(n,null)):w&&(w.d(1),w=null),(t.$keyboard||t.i||t.j)&&(y.value=e.$keyboard.buttons[e.i][e.j].action.owner_id),(t.$keyboard||t.i||t.j)&&x.value!==e.$keyboard.buttons[e.i][e.j].action.hash&&(x.value=e.$keyboard.buttons[e.i][e.j].action.hash)},d(t){t&&u(n),w&&w.d(),t&&(u(c),u(d),u(v),u(m)),r(j)}}}function zt(t){var n;return{c(){(n=p("b")).textContent="Пустой индификатор!",k(n,"class","note svelte-fxtk2f"),_(n,"color","#db3b3b")},m(t,e){l(t,n,e)},d(t){t&&u(n)}}}function Ft(t){var n,e,o,r,i=t.err;return{c(){n=p("div"),e=p("b"),o=b(i),r=f(),k(n,"class","note svelte-fxtk2f"),_(n,"color","#db3b3b")},m(t,i){l(t,n,i),s(n,e),s(e,o),s(n,r)},p(t,n){(t.$keyboard||t.i||t.j)&&i!==(i=n.err)&&m(o,i)},d(t){t&&u(n)}}}function Zt(t){var n,e,o,r,i=new lt({props:{$$slots:{default:[Ht]},$$scope:{ctx:t}}});return{c(){n=p("div"),(e=p("label")).textContent="Цвет",o=f(),i.$$.fragment.c(),k(e,"class","svelte-fxtk2f"),k(n,"class","block-item svelte-fxtk2f")},m(t,a){l(t,n,a),s(n,e),s(n,o),F(i,n,null),r=!0},p(t,n){var e={};(t.$$scope||t.$keyboard||t.i||t.j)&&(e.$$scope={changed:t,ctx:n}),i.$set(e)},i(t){r||(q(i.$$.fragment,t),r=!0)},o(t){z(i.$$.fragment,t),r=!1},d(t){t&&u(n),Z(i)}}}function Rt(t){var n;var e=new at({props:{label:t.$keyboard.buttons[t.i][t.j].color===t.color?"X":"",color:t.color}});return e.$on("click",(function(){return t.click_handler_8(t)})),{c(){e.$$.fragment.c()},m(t,o){F(e,t,o),n=!0},p(n,o){t=o;var r={};(n.$keyboard||n.i||n.j)&&(r.label=t.$keyboard.buttons[t.i][t.j].color===t.color?"X":""),e.$set(r)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Ht(t){for(var n,e,o=["primary","secondary","negative","positive"],r=[],i=0;i<4;i+=1)r[i]=Rt(jt(t,o,i));const a=t=>z(r[t],1,1,()=>{r[t]=null});return{c(){for(var t=0;t<4;t+=1)r[t].c();n=y()},m(t,o){for(var i=0;i<4;i+=1)r[i].m(t,o);l(t,n,o),e=!0},p(t,e){if(t.$keyboard||t.i||t.j){o=["primary","secondary","negative","positive"];for(var i=0;i<o.length;i+=1){const a=jt(e,o,i);r[i]?(r[i].p(t,a),q(r[i],1)):(r[i]=Rt(a),r[i].c(),q(r[i],1),r[i].m(n.parentNode,n))}for(E(),i=o.length;i<4;i+=1)a(i);M()}},i(t){if(!e){for(var n=0;n<4;n+=1)q(r[n]);e=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<4;t+=1)z(r[t]);e=!1},d(t){d(r,t),t&&u(n)}}}function It(t){var n,e,o=new at({props:{label:"Клавиатура",color:!0!==t.$keyboard.inline?"primary":"secondary"}});o.$on("click",t.click_handler_10);var r=new at({props:{label:"Инлайн клавиатура",color:!0===t.$keyboard.inline?"primary":"secondary"}});return r.$on("click",t.click_handler_11),{c(){o.$$.fragment.c(),n=f(),r.$$.fragment.c()},m(t,i){F(o,t,i),l(t,n,i),F(r,t,i),e=!0},p(t,n){var e={};t.$keyboard&&(e.color=!0!==n.$keyboard.inline?"primary":"secondary"),o.$set(e);var i={};t.$keyboard&&(i.color=!0===n.$keyboard.inline?"primary":"secondary"),r.$set(i)},i(t){e||(q(o.$$.fragment,t),q(r.$$.fragment,t),e=!0)},o(t){z(o.$$.fragment,t),z(r.$$.fragment,t),e=!1},d(t){Z(o,t),t&&u(n),Z(r,t)}}}function Xt(t){var n,e,o,r,i;return{c(){n=p("div"),e=p("input"),o=f(),(r=p("label")).textContent="скрывать клавиатуру сразу",k(e,"type","checkbox"),k(r,"class","svelte-fxtk2f"),k(n,"class","one-time svelte-fxtk2f"),i=$(e,"change",t.input_change_handler)},m(i,a){l(i,n,a),s(n,e),e.checked=t.$keyboard.one_time,s(n,o),s(n,r)},p(t,n){t.$keyboard&&(e.checked=n.$keyboard.one_time)},d(t){t&&u(n),i()}}}function Gt(t){var n,e=new Y({props:{keyboard:t.$keyboard}});return{c(){e.$$.fragment.c()},m(t,o){F(e,t,o),n=!0},p(t,n){var o={};t.$keyboard&&(o.keyboard=n.$keyboard),e.$set(o)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){z(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Wt(n){var e,o,r,i;return{c(){(e=p("h3")).textContent="Ошибки",o=f(),r=p("pre"),i=b(n.errors)},m(t,n){l(t,e,n),l(t,o,n),l(t,r,n),s(r,i)},p(t,n){t.errors&&m(i,n.errors)},i:t,o:t,d(t){t&&(u(e),u(o),u(r))}}}function Dt(t){for(var n,e,o,i,a,c,h,b,y,v,m,_,g,x,j,w,C,O,L,A,N,S,K,J,V,T,P,B,R,H,I,X,G,W,D,Q,U,Y=t.$keyboard.buttons,tt=[],nt=0;nt<Y.length;nt+=1)tt[nt]=Kt(Lt(t,Y,nt));const et=t=>z(tt[t],1,1,()=>{tt[t]=null});var ot=t.keyboard.buttons.length<10&&Jt(t),rt=new lt({props:{$$slots:{default:[Vt]},$$scope:{ctx:t}}}),it=[ft.Text,ft.VKApps,ft.OpenLink].includes(t.$keyboard.buttons[t.i][t.j].action.type)&&Tt(t),at=[ft.OpenLink].includes(t.$keyboard.buttons[t.i][t.j].action.type)&&Bt(t),ct=t.$keyboard.buttons[t.i][t.j].action.type===ft.VKPay&&Et(t),st=t.$keyboard.buttons[t.i][t.j].action.type===ft.VKApps&&qt(t),ut=bt(t.$keyboard.buttons[t.i][t.j].action.payload),dt=[];for(nt=0;nt<ut.length;nt+=1)dt[nt]=Ft(wt(t,ut,nt));var pt=t.$keyboard.buttons[t.i][t.j].action.type===ft.Text&&Zt(t),ht=new lt({props:{$$slots:{default:[It]},$$scope:{ctx:t}}}),yt=!0!==t.$keyboard.inline&&Xt(t),$t=[Wt,Gt],kt=[];function vt(t){return t.errors?0:1}return W=vt(t),D=kt[W]=$t[W](t),{c(){n=p("div"),(e=p("h1")).textContent="Генератор клавиатуры для VK",o=f(),(i=p("p")).innerHTML='\n\t\t\t    Генерирует\n\t\t\t    <a href="https://vk.com/dev/bots_docs_3">клавиатуру</a>\n\t\t\t    для ботов. Проверить клавиатуру можно отправив JSON\n\t\t\t    <a href="https://vk.com/im?sel=-174472256">боту</a>\n\t\t\t    .\n\t\t\t  ',a=f(),(c=p("p")).innerHTML='<a href="https://github.com/SevereCloud/vk-keyboard">GitHub</a>',h=f(),(b=p("h3")).textContent="Клавиатура",y=f(),v=p("div");for(var r=0;r<tt.length;r+=1)tt[r].c();m=f(),ot&&ot.c(),_=f(),g=p("div"),x=p("div"),(j=p("label")).textContent="Тип кнопки",w=f(),rt.$$.fragment.c(),C=f(),it&&it.c(),O=f(),at&&at.c(),L=f(),ct&&ct.c(),A=f(),st&&st.c(),N=f(),S=p("div"),(K=p("label")).textContent="Полезная нагрузка",J=f(),V=p("input"),T=f();for(r=0;r<dt.length;r+=1)dt[r].c();P=f(),pt&&pt.c(),B=f(),(R=p("div")).textContent="Удалить",H=f(),I=p("div"),ht.$$.fragment.c(),X=f(),yt&&yt.c(),G=f(),D.c(),k(j,"class","svelte-fxtk2f"),k(x,"class","block-item svelte-fxtk2f"),k(K,"class","svelte-fxtk2f"),k(V,"type","text"),k(V,"class","svelte-fxtk2f"),k(S,"class","block-item svelte-fxtk2f"),k(R,"class","button-remove svelte-fxtk2f"),k(g,"class","border svelte-fxtk2f"),k(I,"class","block-item svelte-fxtk2f"),k(v,"class","buttons-main svelte-fxtk2f"),k(n,"class","app svelte-fxtk2f"),U=[$(V,"input",t.input_input_handler_3),$(R,"click",t.click_handler_9)]},m(r,u){l(r,n,u),s(n,e),s(n,o),s(n,i),s(n,a),s(n,c),s(n,h),s(n,b),s(n,y),s(n,v);for(var d=0;d<tt.length;d+=1)tt[d].m(v,null);s(v,m),ot&&ot.m(v,null),s(v,_),s(v,g),s(g,x),s(x,j),s(x,w),F(rt,x,null),s(g,C),it&&it.m(g,null),s(g,O),at&&at.m(g,null),s(g,L),ct&&ct.m(g,null),s(g,A),st&&st.m(g,null),s(g,N),s(g,S),s(S,K),s(S,J),s(S,V),V.value=t.$keyboard.buttons[t.i][t.j].action.payload,s(S,T);for(d=0;d<dt.length;d+=1)dt[d].m(S,null);s(g,P),pt&&pt.m(g,null),s(g,B),s(g,R),s(v,H),s(v,I),F(ht,I,null),s(v,X),yt&&yt.m(v,null),s(n,G),kt[W].m(n,null),Q=!0},p(t,e){if(t.keyboard||t.$keyboard||t.i||t.j){Y=e.$keyboard.buttons;for(var o=0;o<Y.length;o+=1){const n=Lt(e,Y,o);tt[o]?(tt[o].p(t,n),q(tt[o],1)):(tt[o]=Kt(n),tt[o].c(),q(tt[o],1),tt[o].m(v,m))}for(E(),o=Y.length;o<tt.length;o+=1)et(o);M()}e.keyboard.buttons.length<10?ot||((ot=Jt(e)).c(),ot.m(v,_)):ot&&(ot.d(1),ot=null);var r={};if((t.$$scope||t.$keyboard||t.i||t.j)&&(r.$$scope={changed:t,ctx:e}),rt.$set(r),[ft.Text,ft.VKApps,ft.OpenLink].includes(e.$keyboard.buttons[e.i][e.j].action.type)?it?it.p(t,e):((it=Tt(e)).c(),it.m(g,O)):it&&(it.d(1),it=null),[ft.OpenLink].includes(e.$keyboard.buttons[e.i][e.j].action.type)?at?at.p(t,e):((at=Bt(e)).c(),at.m(g,L)):at&&(at.d(1),at=null),e.$keyboard.buttons[e.i][e.j].action.type===ft.VKPay?ct?ct.p(t,e):((ct=Et(e)).c(),ct.m(g,A)):ct&&(ct.d(1),ct=null),e.$keyboard.buttons[e.i][e.j].action.type===ft.VKApps?st?st.p(t,e):((st=qt(e)).c(),st.m(g,N)):st&&(st.d(1),st=null),(t.$keyboard||t.i||t.j)&&V.value!==e.$keyboard.buttons[e.i][e.j].action.payload&&(V.value=e.$keyboard.buttons[e.i][e.j].action.payload),t.checkPayload||t.$keyboard||t.i||t.j){ut=bt(e.$keyboard.buttons[e.i][e.j].action.payload);for(o=0;o<ut.length;o+=1){const n=wt(e,ut,o);dt[o]?dt[o].p(t,n):(dt[o]=Ft(n),dt[o].c(),dt[o].m(S,null))}for(;o<dt.length;o+=1)dt[o].d(1);dt.length=ut.length}e.$keyboard.buttons[e.i][e.j].action.type===ft.Text?pt?(pt.p(t,e),q(pt,1)):((pt=Zt(e)).c(),q(pt,1),pt.m(g,B)):pt&&(E(),z(pt,1,1,()=>{pt=null}),M());var i={};(t.$$scope||t.$keyboard)&&(i.$$scope={changed:t,ctx:e}),ht.$set(i),!0!==e.$keyboard.inline?yt?yt.p(t,e):((yt=Xt(e)).c(),yt.m(v,null)):yt&&(yt.d(1),yt=null);var a=W;(W=vt(e))===a?kt[W].p(t,e):(E(),z(kt[a],1,1,()=>{kt[a]=null}),M(),(D=kt[W])||(D=kt[W]=$t[W](e)).c(),q(D,1),D.m(n,null))},i(t){if(!Q){for(var n=0;n<Y.length;n+=1)q(tt[n]);q(rt.$$.fragment,t),q(pt),q(ht.$$.fragment,t),q(D),Q=!0}},o(t){tt=tt.filter(Boolean);for(let t=0;t<tt.length;t+=1)z(tt[t]);z(rt.$$.fragment,t),z(pt),z(ht.$$.fragment,t),z(D),Q=!1},d(t){t&&u(n),d(tt,t),ot&&ot.d(),Z(rt),it&&it.d(),at&&at.d(),ct&&ct.d(),st&&st.d(),d(dt,t),pt&&pt.d(),Z(ht),yt&&yt.d(),kt[W].d(),r(U)}}}function Qt(t,n,e){let o,r=new xt;var i,a;i=r,a=t=>{o=t,e("$keyboard",o)},t.$$.on_destroy.push(function(t,n){const e=t.subscribe(n);return e.unsubscribe?()=>e.unsubscribe():e}(i,a)),r.addLastRow();let c=0,s=0,l=()=>{1===r.buttons.length&&1===r.buttons[c].length||(r.removeButton(c,s),c>=r.buttons.length&&(c--,e("i",c)),s>=r.buttons[c].length&&(s--,e("j",s)))},u="";return t.$$.update=(t={$keyboard:1})=>{t.$keyboard&&e("errors",u=o.check())},{keyboard:r,i:c,j:s,removeButton:l,errors:u,$keyboard:o,click_handler:function({ii:t,jj:n}){c=t,e("i",c),s=n,e("j",s)},click_handler_1:function({ii:t}){return r.addColumn(t)},click_handler_2:function(){return r.addLastRow()},click_handler_3:function(){return o.buttons[c][s].toText()},click_handler_4:function(){return o.buttons[c][s].toOpenLink()},click_handler_5:function(){return o.buttons[c][s].toLocation()},click_handler_6:function(){return o.buttons[c][s].toVKPay()},click_handler_7:function(){return o.buttons[c][s].toVKApps()},input_input_handler:function(){r.update(t=>(t.buttons[c][s].action.label=this.value,t)),e("i",c),e("j",s)},input_input_handler_1:function(){r.update(t=>(t.buttons[c][s].action.link=this.value,t)),e("i",c),e("j",s)},input_input_handler_2:function(){r.update(t=>(t.buttons[c][s].action.hash=this.value,t)),e("i",c),e("j",s)},input0_input_handler:function(){r.update(t=>(t.buttons[c][s].action.app_id=v(this.value),t)),e("i",c),e("j",s)},input1_input_handler:function(){r.update(t=>(t.buttons[c][s].action.owner_id=v(this.value),t)),e("i",c),e("j",s)},input2_input_handler:function(){r.update(t=>(t.buttons[c][s].action.hash=this.value,t)),e("i",c),e("j",s)},input_input_handler_3:function(){r.update(t=>(t.buttons[c][s].action.payload=this.value,t)),e("i",c),e("j",s)},click_handler_8:function({color:t}){const n=o.buttons[c][s].color=t;return r.set(o),n},click_handler_9:function(){return l()},click_handler_10:function(){return r.toKeyboard()},click_handler_11:function(){return r.toInlineKeyboard()},input_change_handler:function(){r.update(t=>(t.one_time=this.checked,t))}}}return new class extends I{constructor(t){super(),H(this,t,Qt,Dt,a,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
