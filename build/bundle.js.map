{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../src/components/language/Json.svelte","../../src/components/Export.svelte","../../src/components/Button.svelte","../../src/lib/helper.ts","../../src/lib/keyboard.ts","../../src/App.svelte","../../src/main.ts"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (!store || typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, callback) {\n    const unsub = store.subscribe(callback);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.ctx, definition[1](fn ? fn(ctx) : {})))\n        : ctx.$$scope.ctx;\n}\nfunction get_slot_changes(definition, ctx, changed, fn) {\n    return definition[1]\n        ? assign({}, assign(ctx.$$scope.changed || {}, definition[1](fn ? fn(changed) : {})))\n        : ctx.$$scope.changed || {};\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nlet running = false;\nfunction run_tasks() {\n    tasks.forEach(task => {\n        if (!task[0](now())) {\n            tasks.delete(task);\n            task[1]();\n        }\n    });\n    running = tasks.size > 0;\n    if (running)\n        raf(run_tasks);\n}\nfunction clear_loops() {\n    // for testing...\n    tasks.forEach(task => tasks.delete(task));\n    running = false;\n}\nfunction loop(fn) {\n    let task;\n    if (!running) {\n        running = true;\n        raf(run_tasks);\n    }\n    return {\n        promise: new Promise(fulfil => {\n            tasks.add(task = [fn, fulfil]);\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction object_without_properties(obj, exclude) {\n    // eslint-disable-next-line @typescript-eslint/no-object-literal-type-assertion\n    const target = {};\n    for (const k in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    for (const key in attributes) {\n        if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key in node) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            for (let j = 0; j < node.attributes.length; j += 1) {\n                const attribute = node.attributes[j];\n                if (!attributes[attribute.name])\n                    node.removeAttribute(attribute.name);\n            }\n            return nodes.splice(i, 1)[0]; // TODO strip unwanted attributes\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value) {\n    node.style.setProperty(key, value);\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\nfunction add_resize_listener(element, fn) {\n    if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative';\n    }\n    const object = document.createElement('object');\n    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n    object.type = 'text/html';\n    object.tabIndex = -1;\n    let win;\n    object.onload = () => {\n        win = object.contentDocument.defaultView;\n        win.addEventListener('resize', fn);\n    };\n    if (/Trident/.test(navigator.userAgent)) {\n        element.appendChild(object);\n        object.data = 'about:blank';\n    }\n    else {\n        object.data = 'about:blank';\n        element.appendChild(object);\n    }\n    return {\n        cancel: () => {\n            win && win.removeEventListener && win.removeEventListener('resize', fn);\n            element.removeChild(object);\n        }\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nclass HtmlTag {\n    constructor(html, anchor = null) {\n        this.e = element('div');\n        this.a = anchor;\n        this.u(html);\n    }\n    m(target, anchor = null) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(target, this.n[i], anchor);\n        }\n        this.t = target;\n    }\n    u(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    p(html) {\n        this.d();\n        this.u(html);\n        this.m(this.t, this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nlet stylesheet;\nlet active = 0;\nlet current_rules = {};\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    if (!current_rules[name]) {\n        if (!stylesheet) {\n            const style = element('style');\n            document.head.appendChild(style);\n            stylesheet = style.sheet;\n        }\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    node.style.animation = (node.style.animation || '')\n        .split(', ')\n        .filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    )\n        .join(', ');\n    if (name && !--active)\n        clear_rules();\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        let i = stylesheet.cssRules.length;\n        while (i--)\n            stylesheet.deleteRule(i);\n        current_rules = {};\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = current_component;\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nfunction flush() {\n    const seen_callbacks = new Set();\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        while (dirty_components.length) {\n            const component = dirty_components.shift();\n            set_current_component(component);\n            update(component.$$);\n        }\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                callback();\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n}\nfunction update($$) {\n    if ($$.fragment) {\n        $$.update($$.dirty);\n        run_all($$.before_update);\n        $$.fragment.p($$.dirty, $$.ctx);\n        $$.dirty = null;\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = key && { [key]: value };\n        const child_ctx = assign(assign({}, info.ctx), info.resolved);\n        const block = type && (info.current = type)(child_ctx);\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            flush();\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n    }\n    if (is_promise(promise)) {\n        promise.then(value => {\n            update(info.then, 1, info.value, value);\n        }, error => {\n            update(info.catch, 2, info.error, error);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = { [info.value]: promise };\n    }\n}\n\nconst globals = (typeof window !== 'undefined' ? window : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, changed, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(changed, child_ctx);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction measure(blocks) {\n    const rects = {};\n    let i = blocks.length;\n    while (i--)\n        rects[blocks[i].key] = blocks[i].node.getBoundingClientRect();\n    return rects;\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args) {\n    const attributes = Object.assign({}, ...args);\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === undefined)\n            return;\n        if (value === true)\n            str += \" \" + name;\n        const escaped = String(value)\n            .replace(/\"/g, '&#34;')\n            .replace(/'/g, '&#39;');\n        str += \" \" + name + \"=\" + JSON.stringify(escaped);\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    if (component.$$.props.indexOf(name) === -1)\n        return;\n    component.$$.bound[name] = callback;\n    callback(component.$$.ctx[name]);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    if (component.$$.fragment) {\n        run_all(component.$$.on_destroy);\n        component.$$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        component.$$.on_destroy = component.$$.fragment = null;\n        component.$$.ctx = {};\n    }\n}\nfunction make_dirty(component, key) {\n    if (!component.$$.dirty) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty = blank_object();\n    }\n    component.$$.dirty[key] = true;\n}\nfunction init(component, options, instance, create_fragment, not_equal, prop_names) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const props = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props: prop_names,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty: null\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, props, (key, value) => {\n            if ($$.ctx && not_equal($$.ctx[key], $$.ctx[key] = value)) {\n                if ($$.bound[key])\n                    $$.bound[key](value);\n                if (ready)\n                    make_dirty(component, key);\n            }\n        })\n        : props;\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    $$.fragment = create_fragment($$.ctx);\n    if (options.target) {\n        if (options.hydrate) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment.l(children(options.target));\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement !== 'undefined') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, assign, attr, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_element, claim_text, clear_loops, component_subscribe, createEventDispatcher, create_animation, create_bidirectional_transition, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, debug, destroy_block, destroy_component, destroy_each, detach, dirty_components, each, element, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_slot_changes, get_slot_context, get_spread_update, get_store_value, globals, group_outros, handle_promise, identity, init, insert, intros, invalid_attribute_name_character, is_client, is_function, is_promise, listen, loop, measure, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_input_type, set_now, set_raf, set_style, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_store, xlink_attr };\n","<script>\n  export let JSONminify = false;\n  export let keyboard;\n</script>\n\n<style>\n  .Rows {\n    display: flex;\n    flex-direction: row;\n    margin-bottom: 16px;\n    margin-top: 0;\n  }\n  .Rows label {\n    margin-left: 6px;\n  }\n</style>\n\n<div class=\"Rows\">\n\t<input type=\"checkbox\" bind:checked={JSONminify}>\n\t<label>JSON minify</label>\n</div>\n\n<pre>\n{JSON.stringify(keyboard, \"\", JSONminify?0:2)}\n</pre>\n\n\n\t","<script>\n  import Json from './language/Json.svelte'\n  // import Golang from './language/Golang.svelte'\n\n  let select_export;\n  export let keyboard;\n</script>\n\n<style>\n  .header{\n    font-size: 1.25em;\n    font-weight: 600;\n    line-height: 1.25;\n    border: none;\n    background: none;\n    padding: 0;\n    margin: 24px 0 16px;\n    color: #333;\n  }\n</style>\n\n<select class=\"header\" bind:value={select_export}>\n  <option value=\"JSON\">JSON</option>\n  <!-- <option value=\"Golang\">Golang</option> -->\n</select>\n\n{#if select_export == 'JSON'}\n  <Json {keyboard} />\n<!-- {:else if select_export == 'Golang'}\n  <Golang {keyboard} /> -->\n{/if}\n","<script>\n  import { createEventDispatcher } from \"svelte\";\n  \n  const dispatch = createEventDispatcher();\n\n  export let label = \"\";\n  export let color = \"\";\n  export let type = \"\";\n  export let select = false;\n\n  let text = (type, label) => {\n    switch (type) {\n      case \"location\":\n        return \"Отправить своё местоположение\";\n      case \"vkpay\":\n        return \"Оплатить через\";\n      default:\n        return label;\n    }\n  };\n\n  let background = (type, color) => {\n    switch (type) {\n      case \"location\":\n        return \"secondary\";\n      case \"vkpay\":\n        return \"primary\";\n      case \"open_app\":\n        return \"secondary\";\n      case \"open_link\":\n        return \"secondary\";\n      default:\n        return color == \"\" ? \"primary\" : color;\n    }\n  };\n  let bold=false;\n  $: bold = type==\"text\"? false : true;\n</script>\n\n<style>\n  .button {\n    display: flex;\n    /* flex: 1; */\n    flex-grow: 1;\n    flex-shrink: 1;\n    width: 100%;\n    height: 38px;\n    margin: 5px;\n    border-radius: 4px;\n    cursor: pointer;\n    font-family: -apple-system,BlinkMacSystemFont,Roboto,Open Sans,Helvetica Neue,Noto Sans Armenian,Noto Sans Bengali,Noto Sans Cherokee,Noto Sans Devanagari,Noto Sans Ethiopic,Noto Sans Georgian,Noto Sans Hebrew,Noto Sans Kannada,Noto Sans Khmer,Noto Sans Lao,Noto Sans Osmanya,Noto Sans Tamil,Noto Sans Telugu,Noto Sans Thai,sans-serif;\n    font-size: 13px;\n    font-weight: 300;\n  }\n  .button span {\n    display: inline-flex;\n    /* display: inline-block; */\n    align-items: center;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    vertical-align: middle;\n    padding: 7px 16px 8px;\n    margin: auto;\n  }\n  .button span svg {\n    height: 24px;\n    margin: 0 4px 0 2px;\n  }\n\n  .bold span {\n    font-weight: 500;\n  }\n  .bold.secondary span {\n    color: #3670b3;\n  }\n  \n  .select {\n    background: repeating-linear-gradient(45deg, #0000, #0000 15px, #fff6 0, #fff6 30px);\n  }\n\n\n  .add {\n    border: 1px solid #d1d5da;\n  }\n\n  .primary {\n    background-color: #5181b8;\n    color: #fff;\n  }\n  .primary:hover {\n    background-color: #5b88bd;\n  }\n  .primary:active {\n    background-color: #4872a3;\n  }\n\n  .secondary {\n    background-color: #e5ebf1;\n    color: #55677d;\n  }\n  .secondary:hover {\n    background-color: #dfe6ed;\n  }\n  .secondary:active {\n    background-color: #dae2ea;\n  }\n\n  .negative {\n    background-color: #e64646;\n    color: #fff;\n  }\n  .negative:hover {\n    background-color: #eb5050;\n  }\n  .negative:active {\n    background-color: #db3b3b;\n  }\n\n  .positive {\n    background-color: #4bb34b;\n    color: #fff;\n  }\n  .positive:hover {\n    background-color: #51b851;\n  }\n  .positive:active {\n    background-color: #43a843;\n  }\n</style>\n\n<div class=\"button {background(type, color)}\" class:bold class:select on:click={() => dispatch(\"click\")} >\n  <span>\n    {#if type == 'location'}\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path\n          fill=\"#528bcc\"\n          d=\"M6,10q0,3.27,5,9.14h0a1.29,1.29,0,0,0,1.82.14l.14-.14q5-5.88,5-9.14a5.78,5.78,0,0,0-6-6A5.78,5.78,0,0,0,6,10Zm4,0a2,2,0,1,1,2,2A2,2,0,0,1,10,10Z\" />\n      </svg>\n    {:else if type == 'open_app'}\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n        <path\n          fill=\"#528bcc\"\n          d=\"M14.5,19h3A1.5,1.5,0,0,0,19,17.5v-3A1.5,1.5,0,0,0,17.5,13h-3A1.5,1.5,0,0,0,13,14.5v3A1.5,1.5,0,0,0,14.5,19ZM11,17.5v-3A1.5,1.5,0,0,0,9.5,13h-3A1.5,1.5,0,0,0,5,14.5v3A1.5,1.5,0,0,0,6.5,19h3A1.5,1.5,0,0,0,11,17.5ZM6.5,11h3A1.5,1.5,0,0,0,11,9.5v-3A1.5,1.5,0,0,0,9.5,5h-3A1.5,1.5,0,0,0,5,6.5v3A1.5,1.5,0,0,0,6.5,11Zm6.32-1.94,2.12,2.12a1.49,1.49,0,0,0,2.12,0l2.12-2.12a1.49,1.49,0,0,0,0-2.12L17.06,4.82a1.49,1.49,0,0,0-2.12,0L12.82,6.94A1.49,1.49,0,0,0,12.82,9.06Z\" />\n      </svg>\n    {/if}\n\n    {text(type, label)}\n\n    {#if type == 'vkpay'}\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 52 24\">\n        <path\n          fill=\"#FFFFFF\"\n          fill-rule=\"evenodd\"\n          d=\"M28.0263591 7.94C28.5175203 7.94 28.9858297 8.04049933 29.4313015\n          8.24150101 29.8767732 8.44250268 30.2679829 8.72390081 30.6049423\n          9.08570383 30.9419017 9.44750684 31.210323 9.87534685 31.4102142\n          10.3692367 31.6101053 10.8631265 31.7100494 11.4029515 31.7100494\n          11.9887278 31.7100494 12.5745041 31.6101053 13.1143291 31.4102142\n          13.6082189 31.210323 14.1021088 30.9419017 14.5299488 30.6049423\n          14.8917518 30.2679829 15.2535548 29.8767732 15.5349529 29.4313015\n          15.7359546 28.9858297 15.9369563 28.5175203 16.0374556 28.0263591\n          16.0374556 27.6951109 16.0374556 27.4067008 15.9972559 27.1611203\n          15.9168552 26.9155397 15.8364545 26.7013738 15.7503123 26.5186161\n          15.6584258 26.3130138 15.5435677 26.1302589 15.4114828 25.970346\n          15.2621673L25.970346 18.7078931 24 18.7078931 24 8.02614314 25.4563427\n          8.02614314 25.7990115 8.80143145C25.9703468 8.64063011 26.170235\n          8.49705963 26.398682 8.37071572 26.592862 8.26734343 26.8270168\n          8.16971551 27.1011532 8.07782903 27.3752897 7.98594255 27.6836886 7.94\n          28.0263591 7.94zM25.7990115 11.9887278C25.7990115 12.643419 25.9874775\n          13.1660155 26.3644152 13.556533 26.7413528 13.9470506 27.2096622\n          14.1423064 27.7693575 14.1423064 28.3290528 14.1423064 28.7973622\n          13.9470506 29.1742998 13.556533 29.5512375 13.1660155 29.7397035\n          12.643419 29.7397035 11.9887278 29.7397035 11.3340366 29.5512375\n          10.8114401 29.1742998 10.4209226 28.7973622 10.030405 28.3290528\n          9.83514919 27.7693575 9.83514919 27.2096622 9.83514919 26.7413528\n          10.030405 26.3644152 10.4209226 25.9874775 10.8114401 25.7990115\n          11.3340366 25.7990115 11.9887278zM36.339374 7.94C36.7848457 7.94\n          37.1960442 8.01752806 37.5729819 8.17258649 37.9499195 8.32764493\n          38.2754517 8.54300064 38.5495881 8.81866008 38.8237246 9.09431952\n          39.0378905 9.4216602 39.1920923 9.80069193 39.346294 10.1797237\n          39.4233937 10.5932066 39.4233937 11.0411532L39.4233937 15.9513125\n          37.9670511 15.9513125 37.6243822 15.1760242C37.4416246 15.3368255\n          37.2417364 15.480396 37.0247117 15.6067399 36.8305317 15.721598\n          36.596377 15.8220973 36.3222405 15.9082409 36.0481041 15.9943845\n          35.7397052 16.0374556 35.3970346 16.0374556 34.5403582 16.0374556\n          33.8835827 15.8278427 33.4266886 15.4086107 32.9697945 14.9893786\n          32.7413509 14.452425 32.7413509 13.7977338 32.7413509 13.4072163\n          32.8184506 13.0482901 32.9726524 12.7209445 33.1268541 12.3935989\n          33.3867088 12.1122008 33.7522241 11.8767417 34.1177393 11.6412826\n          34.6003265 11.4575124 35.2 11.3254256 35.7996735 11.1933388 36.5506819\n          11.1272964 37.4530478 11.1272964 37.4530478 10.6908356 37.3359704\n          10.3520093 37.1018122 10.1108072 36.867654 9.86960524 36.5563995\n          9.74900604 36.1680395 9.74900604 35.9053254 9.74900604 35.6968706\n          9.79494859 35.5426689 9.88683507 35.3884671 9.97872155 35.2656787\n          10.0763495 35.1742998 10.1797218 35.0714987 10.3060657 35.0029656\n          10.4496361 34.9686985 10.6104375L32.9983526 10.6104375C33.044042\n          10.2428916 33.1496971 9.89832243 33.3153213 9.57671975 33.4809454\n          9.25511707 33.7065334 8.97371894 33.9920923 8.73251693 34.2776511\n          8.49131492 34.617461 8.29893049 35.0115321 8.15535786 35.4056033\n          8.01178524 35.8482128 7.94 36.339374 7.94zM35.7397035\n          14.486879C36.2537093 14.486879 36.6677634 14.3346943 36.9818781\n          14.0303203 37.2959928 13.7259464 37.4530478 13.3325633 37.4530478\n          12.8501593L37.4530478 12.5055867C36.8705078 12.5055867 36.4021984\n          12.5314294 36.0481054 12.5831155 35.6940125 12.6348016 35.4170246\n          12.7094583 35.2171334 12.8070877 35.0172423 12.9047171 34.8830316\n          13.0224449 34.8144975 13.1602746 34.7459634 13.2981043 34.7116969\n          13.4531604 34.7116969 13.6254476 34.7116969 13.8436779 34.8087854\n          14.0418052 35.0029654 14.2198353 35.1971454 14.3978653 35.4427223\n          14.486879 35.7397035 14.486879zM40.1186161 8.02614314L42.1746293\n          8.02614314 44.1449753 13.1947318 45.9439868 8.02614314 48\n          8.02614314C47.4403047 9.47335521 46.9320177 10.7827179 46.4751236\n          11.9542705 46.2809436 12.4596462 46.089622 12.9535286 45.9011532\n          13.4359326 45.7126844 13.9183367 45.5442072 14.3576623 45.3957166\n          14.7539228 45.2472261 15.1501832 45.1215821 15.4803953 45.0187809\n          15.7445689 44.9159797 16.0087425 44.8531577 16.1637987 44.830313\n          16.2097419 44.636133 16.6806601 44.4448115 17.079786 44.2563427\n          17.4071316 44.0678739 17.7344772 43.8651301 18.0015183 43.6481054\n          18.2082629 43.4310807 18.4150074 43.196926 18.5643207 42.9456343\n          18.6562072 42.6943425 18.7480937 42.408788 18.7940362 42.0889621\n          18.7940362 41.9975833 18.7940362 41.9090614 18.7911648 41.8233937\n          18.7854219 41.7377261 18.779679 41.6663375 18.7710648 41.6092257\n          18.759579 41.5292692 18.7480932 41.4607361 18.7308647 41.4036244\n          18.7078931L41.4036244 17.0711733C41.8376738 17.0711733 42.1717726\n          16.9735454 42.4059308 16.7782867 42.640089 16.5830279 42.8199884\n          16.3360867 42.9456343 16.0374556L43.1169687 15.6067399 40.1186161\n          8.02614314zM9.54666667 4C14.0266667 4 9.97333333 4 14.4533333 4\n          18.9333333 4 20 5.06666667 20 9.54666667 20 14.0266667 20 9.97333333\n          20 14.4533333 20 18.9333333 18.9333333 20 14.4533333 20 9.97333333 20\n          14.0266667 20 9.54666667 20 5.06666667 20 4 18.9333333 4 14.4533333 4\n          9.97333333 4 12.0483607 4 9.54666667 4 5.06666667 5.06666667 4\n          9.54666667 4zM17.1861661 9.42885176C17.2602965 9.18164766 17.1861661 9\n          16.8333537 9L15.666687 9C15.3700421 9 15.2332845 9.15691696 15.159113\n          9.32994954 15.159113 9.32994954 14.5658232 10.7760781 13.7253498\n          11.7154331 13.4534356 11.9873473 13.3298232 12.0738636 13.1815008\n          12.0738636 13.1073498 12.0738636 13 11.9873473 13 11.7401638L13\n          9.42885176C13 9.13220684 12.9139117 9 12.666687 9L10.8333537\n          9C10.6479763 9 10.5364889 9.13767969 10.5364889 9.26816395 10.5364889\n          9.5493779 10.956705 9.61422912 11.0000203 10.4052822L11.0000203\n          12.123325C11.0000203 12.5 10.9319949 12.5682924 10.7836724 12.5682924\n          10.3881665 12.5682924 9.42609705 11.1157034 8.85550102 9.45356188\n          8.74367794 9.13049914 8.63152112 9 8.33335368 9L7.16668701\n          9C6.83335368 9 6.76668294 9.15691696 6.76668294 9.32994954 6.76668294\n          9.63895981 7.16220951 11.1716047 8.60831749 13.1986372 9.57238263\n          14.582939 10.9306871 15.3333333 12.166687 15.3333333 12.9082787\n          15.3333333 13.0000203 15.1666667 13.0000203 14.8795839L13.0000203\n          13.8333333C13.0000203 13.5 13.0702744 13.4334759 13.3051131 13.4334759\n          13.4781457 13.4334759 13.7747906 13.5199922 14.4669621 14.187433\n          15.2579947 14.9784655 15.3884069 15.3333333 15.8333537\n          15.3333333L17.0000203 15.3333333C17.3333537 15.3333333 17.5000203\n          15.1666667 17.4038729 14.8377593 17.2986588 14.5099509 16.9209835\n          14.0343445 16.4198437 13.4705514 16.1479089 13.1491963 15.7400375\n          12.8031312 15.6164252 12.6300574 15.4433926 12.4076046 15.4928334\n          12.3087024 15.6164252 12.1109597 15.6164252 12.1109597 17.0378436\n          10.1086373 17.1861661 9.42885176z\" />\n      </svg>\n    {/if}\n\n    {#if type == 'open_link'}\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 16\"><path fill=\"none\" stroke-linecap=\"round\" stroke-width=\"1.7\" stroke-linejoin=\"round\" stroke=\"#528bcc\" d=\"M6 4h6v6m-1-5l-6 6\"/></svg>\n    {/if}\n\n  </span>\n</div>\n","import { Writable } from 'svelte/store'\n\nexport class Stat {\n  dict: {\n    [id: string]: number;\n  } = {};\n  add(key: string): void {\n    if (this.dict[key] === undefined) {\n      this.dict[key] = 0;\n    }\n    this.dict[key]++;\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction noop(): void { }\n\n/** Callback to inform of a value updates. */\ntype Subscriber<T> = (value: T) => void;\n\n/** Unsubscribes from value updates. */\ntype Unsubscriber = () => void;\n\n/** Callback to update a value. */\ntype Updater<T> = (value: T) => T;\n\n/** Cleanup logic callback. */\ntype Invalidator<T> = (value?: T) => void;\n\n/** Start and stop notification callbacks. */\ntype StartStopNotifier<T> = (set: Subscriber<T>) => Unsubscriber | void;\n\n/** Pair of subscriber and invalidator. */\ntype SubscribeInvalidateTuple<T> = [Subscriber<T>, Invalidator<T>];\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nexport class WritableClass implements Writable<any> {\n  private _subscribers: SubscribeInvalidateTuple<any>[];\n  private _subscriber_queue = [];\n  private _stop?: Unsubscriber;\n  private _start: StartStopNotifier<any>;\n\n  constructor(start: StartStopNotifier<any> = noop) {\n    this._subscribers = [];\n    this._start = start;\n  }\n\n  _notifyAll(): void {\n    const runQueue = !this._subscriber_queue.length;\n    for (let i = 0; i < this._subscribers.length; i += 1) {\n      const s = this._subscribers[i];\n      s[1]();\n      this._subscriber_queue.push(s, this);\n    }\n    if (runQueue) {\n      for (let i = 0; i < this._subscriber_queue.length; i += 2) {\n        this._subscriber_queue[i][0](this._subscriber_queue[i + 1]);\n      }\n      this._subscriber_queue.length = 0;\n    }\n  }\n\n  subscribe(run: Subscriber<any>, invalidate: Invalidator<any> = noop): Unsubscriber {\n    const subscriber: SubscribeInvalidateTuple<any> = [run, invalidate];\n    this._subscribers.push(subscriber);\n    if (this._subscribers.length === 1) {\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      this._stop = this._start(this.set) || noop;\n    }\n\n    run(this);\n\n    return (): void => {\n      const index = this._subscribers.indexOf(subscriber);\n      if (index !== -1) {\n        this._subscribers.splice(index, 1);\n      }\n      if (this._subscribers.length === 0) {\n        this._stop();\n        this._stop = null;\n      }\n    }\n  }\n\n  set(data: any): void {\n    Object.getOwnPropertyNames(this)\n      .filter(prop => !prop.startsWith('_'))\n      .forEach(prop => {\n        data[prop] && (this[prop] = data[prop]);\n      });\n    if (this._stop) {\n      this._notifyAll();\n    }\n  }\n\n  update(fn: Updater<any>): void {\n    this.set(fn(this));\n  }\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n","import { Stat, WritableClass } from \"./helper\";\n\n\n/**\n * проверяет валидость поля label\n * @param label  текст кнопки\n */\nexport function checkLabel(label: string): Array<string> {\n  const error: Array<string> = [];\n\n  if (label === undefined) {\n    error.push('label is required');\n    return error;\n  }\n\n  if (label.length < 1) {\n    error.push('label should be at least 1 letters length');\n  }\n\n  if (label.length > 40) {\n    error.push('label should be not more than 40 letters length');\n  }\n\n  return error;\n}\n\n/**\n * проверяет валидость поля payload\n * @param payload дополнительная информация.\n */\nexport function checkPayload(payload: string): Array<string> {\n  const error: Array<string> = [];\n\n  if (payload === undefined || payload === \"\") {\n    return error;\n  }\n\n  if (payload.length > 255) {\n    error.push('payload should be not more than 255 letters length');\n  }\n\n  try {\n    JSON.parse(payload);\n  } catch (e) {\n    error.push('payload contains incorrect JSON');\n  }\n\n  return error;\n}\n\n\ninterface KeyboardJSON {\n  one_time?: boolean;\n  buttons: Button[][];\n  inline?: boolean;\n}\n\ninterface ButtonJSON  {\n  action: ButtonAction;\n  color?: Color;\n}\n\nexport enum ButtonType {\n  Text = 'text',\n  OpenLink = 'open_link',\n  Location = 'location',\n  VKPay = 'vkpay',\n  VKApps = 'open_app'\n}\n\n\n/** цвет кнопки. Параметр используется только для кнопок с **type**: _text_ */\nexport enum Color {\n  /** primary — синяя кнопка, обозначает основное действие. #5181B8 */\n  Primary = 'primary',\n  /** secondary — обычная белая кнопка. #FFFFFF */\n  Secondary = 'secondary',\n  /** negative — опасное действие, или отрицательное действие (отклонить, удалить и тд). #E64646 */\n  Negative = 'negative',\n  /** positive — согласиться, подтвердить. #4BB34B */\n  Positive = 'positive'\n}\n\n\nexport interface ButtonAction {\n  type: ButtonType;\n  check(): Array<string>;\n\n  label?: string;\n  payload?: string;\n  link?: string;\n  hash?: string;\n  app_id?: number;\n  owner_id?: number;\n}\n\nexport class ButtonActionText implements ButtonAction {\n  readonly type = ButtonType.Text;\n  label: string;\n  payload: string;\n\n  constructor() {\n    this.label = \"label\";\n    this.payload = \"\";\n  }\n\n  /** проверка структуры */\n  check(): Array<string> {\n    const error: Array<string> = [];\n\n    error.push(...checkLabel(this.label))\n    error.push(...checkPayload(this.payload))\n\n    return error\n  }\n}\n\nexport class ButtonActionOpenLink implements ButtonAction {\n  readonly type = ButtonType.OpenLink;\n  link: string;\n  label: string;\n  payload: string;\n\n  constructor() {\n    this.link = \"https://vk.com\";\n    this.label = \"label\";\n    this.payload = \"\";\n  }\n\n  /** проверка структуры */\n  check(): Array<string> {\n    const error: Array<string> = [];\n\n    error.push(...checkLabel(this.label))\n    error.push(...checkPayload(this.payload))\n    if (this.link === undefined) {\n      error.push('link is required');\n    } else {\n      const regexpUrl =\n        new RegExp(`^(http(s)?:\\\\/\\\\/)([^/?#]+)([^?#]*)(\\\\?([^#]*))?(#(.*))?`);\n\n      if (!regexpUrl.test(this.link)) {\n        error.push('has invalid link');\n      }\n    }\n\n    return error\n  }\n}\n\nexport class ButtonActionLocation implements ButtonAction {\n  readonly type = ButtonType.Location;\n  payload: string;\n\n  constructor() {\n    this.payload = \"\";\n  }\n\n  /** проверка структуры */\n  check(): Array<string> {\n    const error: Array<string> = [];\n\n    error.push(...checkPayload(this.payload))\n\n    return error\n  }\n}\n\n\nexport class ButtonActionVKPay implements ButtonAction {\n  readonly type = ButtonType.VKPay;\n  payload: string;\n  hash: string;\n\n  constructor() {\n    this.payload = \"\";\n    this.hash = \"\";\n  }\n\n  /** проверка структуры */\n  check(): Array<string> {\n    const error: Array<string> = [];\n\n    error.push(...checkPayload(this.payload))\n    // TODO: valid hash\n\n    return error\n  }\n}\n\nexport class ButtonActionVKApps implements ButtonAction {\n  readonly type = ButtonType.VKApps;\n  app_id: number;\n  owner_id: number;\n  payload: string;\n  label: string;\n  hash: string;\n\n  constructor() {\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    this.app_id = 0;\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    this.owner_id = 0;\n    this.payload = \"\";\n    this.label = \"label\";\n    this.hash = \"\";\n  }\n\n  /** проверка структуры */\n  check(): Array<string> {\n    const error: Array<string> = [];\n\n    error.push(...checkLabel(this.label))\n    error.push(...checkPayload(this.payload))\n\n    if (this.hash !== undefined) {\n      if (this.hash.length > 500) {\n        error.push('hash should be not more than 500 letters length');\n      }\n    }\n\n    if (this.app_id === undefined) {\n      error.push('app_id is required');\n    }\n    // TODO: https://vk.com/bug194951\n    // TODO: https://vk.com/bug194950\n\n    return error\n  }\n}\n\n/**\n * Класс объекта cтруктуры buttons\n */\nexport class Button extends WritableClass {\n  /** объект, описывающий тип действия и его параметры. Поля объекта зависят от значения параметра **type** */\n  action: ButtonAction;\n  /** цвет кнопки. Параметр используется только для кнопок с **type**: _text_ */\n  color?: Color;\n\n  constructor() {\n    super()\n    this.action = new ButtonActionText();\n    this.color = Color.Primary;\n  }\n\n  toText(): void {\n    this.action = new ButtonActionText();\n    this.color = Color.Primary;\n    this._notifyAll()\n  }\n\n  toOpenLink(): void {\n    this.action = new ButtonActionOpenLink();\n    this.color = undefined;\n    this._notifyAll()\n  }\n\n  toLocation(): void {\n    this.action = new ButtonActionLocation();\n    this.color = undefined;\n    this._notifyAll()\n  }\n\n  toVKPay(): void {\n    this.action = new ButtonActionVKPay();\n    this.color = undefined;\n    this._notifyAll()\n  }\n\n  toVKApps(): void {\n    this.action = new ButtonActionVKApps();\n    this.color = undefined;\n    this._notifyAll()\n  }\n\n  changeColor(color: Color): void {\n    if (this.action.type === ButtonType.Text) {\n      this.color = color;\n      this._notifyAll()\n    }\n  }\n\n  toJSON(): ButtonJSON {\n    return {\n      action: this.action,\n      color: this.color\n    }\n  }\n\n  /** проверка структуры */\n  check(): Array<string> {\n    const error: Array<string> = [];\n\n    if (this.action === undefined) {\n      error.push('has invalid action');\n    } else {\n      error.push(...this.action.check())\n    }\n\n    return error\n  }\n}\n\n\n/**\n * Класс объекта keyboard\n */\nexport class Keyboard extends WritableClass {\n  /**\n   * скрывать ли клавиатуру после первого использования. Параметр срабатывает \n   * только для кнопок, отправляющих сообщение (поле **type** - _text_, _location_) \n   * Для **type** равных _open_app_, _vk_pay_ параметр игнорируется. \n   * Возможные значения:\n   * - `true` — клавиатура будет скрыта при нажатии на кнопку с типом _text_ или _location_;\n   * - `false` — клавиатура не скрывается;\n   */\n  one_time?: boolean;\n  /** массив массивов с кнопками */\n  buttons: Array<Array<Button>>;\n  /** \n   * Должна ли клавиатура отображаться внутри сообщения. \n   * Возможные значения:\n   * - `true` — клавиатура отображается внутри сообщения. \n   * Параметр _one_time_ при этом не поддерживается;\n   * - `false` — стандартное отображение клавиатуры. */\n  inline?: boolean;\n\n  /** костыль */\n  crutch: boolean;\n\n  constructor() {\n    super()\n    this.buttons = [];\n    this.crutch = false;\n    this.toKeyboard();\n  }\n\n  toKeyboard(): void {\n    this.inline = undefined;\n    this._notifyAll();\n  }\n\n  toInlineKeyboard(): void {\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    this.one_time = undefined;\n    this.inline = true;\n    this._notifyAll();\n  }\n\n  toJSON(): KeyboardJSON {\n    return {\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      one_time: this.one_time,\n      buttons: this.buttons,\n      inline: this.inline\n    }\n  }\n\n  // TODO: fromJSON\n\n  addLastRow(): void {\n    this.buttons.push([]);\n    this.addColumn(this.buttons.length - 1)\n  }\n\n  addColumn(row: number): void {\n    const button = new Button()\n    this.buttons[row].push(button);\n\n    button.subscribe(() => {\n      this._notifyAll();\n    })\n    this._notifyAll();\n  }\n\n  removeButton(row: number, column: number): void {\n    this.buttons[row].splice(column, 1)\n    if (this.buttons[row].length < 1) {\n      this.buttons.splice(row, 1)\n    }\n    this._notifyAll();\n  }\n\n  /**\n   * полная проверка структуры\n   * @return возвращает текст ошибки\n   */\n  check(): string {\n    let error = \"\";\n\n    if (this.one_time && this.inline) {\n      error += \"one_time field is not available for inline keyboard\\n\"\n    }\n\n    if (this.buttons === undefined) {\n      error += \"buttons property should be array\\n\"\n    } else {\n      let counter = 0;\n      this.buttons.forEach((row, i) => {\n        if (row.length < 1) {\n          error += `the row ${i} empty\\n`\n        }\n\n        const typeStat = new Stat();\n\n        row.forEach((button, j) => {\n          counter++;\n          typeStat.add(button.action.type)\n\n          button.check().forEach(err => {\n            error += `button [${i}][${j}]: ${err}\\n`;\n          });\n        });\n\n        // лимит количества кнопок на строку\n        // of type open_link can contain only 2 button(s)\n        // VKPAY => 1,\n        // LOCATION => 2,\n        // OPEN_APP => 2,\n        // OPEN_LINK => 2\n\n        if (typeStat.dict[ButtonType.VKPay] > 1) {\n          error += `the row ${i} with button of type vkpay can contain only 1 button(s)\\n`\n        }\n\n        if (typeStat.dict[ButtonType.Location] > 2) {\n          error += `the row ${i} with button of type location can contain only 2 button(s)\\n`\n        }\n\n        if (typeStat.dict[ButtonType.VKApps] > 2) {\n          error += `the row ${i} with button of type open_app can contain only 2 button(s)\\n`\n        }\n\n        if (typeStat.dict[ButtonType.OpenLink] > 2) {\n          error += `the row ${i} with button of type open_link can contain only 2 button(s)\\n`\n        }\n\n        if (this.inline) {\n          // Максимум в строке: 5\n          if (row.length > 5) {\n            error += `the row ${i} contains too much columns (max 5)\\n`\n          }\n        } else {\n          // Максимум в строке: 5\n          if (row.length > 5) {\n            error += `the row ${i} contains too much columns (max 5)\\n`\n          }\n        }\n\n      });\n\n      // Обычные клавиатуры:\n      // Максимум строк: 10\n      // Максимум в строке: 5\n      // Максимум всего: 40\n\n      // inline клавиатуры:\n      // Максимум строк: 6\n      // Максимум в строке: 5 (было 3)\n      // Максимум всего: 10 (раньше 9, так как 3х3)\n\n      if (this.inline) {\n        // Максимум строк: 6\n        if (this.buttons.length > 6) {\n          error += `buttons contain too much rows (max 6)\\n`\n        }\n\n        if (counter > 10) {\n          error += `keyboard contains too much buttons (max 10)\\n`\n        }\n\n      } else {\n        // Максимум строк: 10\n        if (this.buttons.length > 10) {\n          error += `buttons contain too much rows (max 10)\\n`\n        }\n\n        if (counter > 40) {\n          error += `keyboard contains too much buttons (max 40)\\n`\n        }\n      }\n    }\n\n    return error\n  }\n}\n\n\n\n","<script>\n  import Export from \"./components/Export.svelte\";\n\n  import Button from \"./components/Button.svelte\";\n  import Buttons from \"./components/Buttons.svelte\";\n\n  import {\n    Keyboard,\n    ButtonType,\n    Color,\n    checkLabel,\n    checkPayload\n  } from \"./lib/keyboard\";\n\n  // varibatle\n  let keyboard = new Keyboard();\n  keyboard.addLastRow();\n  let i = 0;\n  let j = 0;\n\n  // TODO: save keyboard\n\n  // TODO: load keyboard\n\n  let removeButton = () => {\n    if (keyboard.buttons.length === 1 && keyboard.buttons[i].length === 1){\n      return\n    }\n    keyboard.removeButton(i, j);\n\n    if (i >= keyboard.buttons.length) {\n      i--;\n    }\n    if (j >= keyboard.buttons[i].length) {\n      j--;\n    }\n  };\n\n  // Проверка на ошибки\n  let errors = \"\";\n  $: errors = $keyboard.check();\n\n  // Костыль\n  const update = () => (keyboard.crutch = !keyboard.crutch);\n</script>\n\n<style>\n  input[type=\"text\"],\n  input[type=\"number\"] {\n    width: 100%;\n  }\n  .app {\n    max-width: 1000px;\n    margin: 0 auto;\n    padding: 16px;\n    font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial,\n      sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;\n  }\n\n  .border {\n    background-color: #fff;\n    border: 1px solid #d1d5da;\n    border-radius: 3px;\n    padding: 16px 16px 8px;\n    margin-bottom: 16px;\n    margin-top: 16px;\n  }\n\n  .buttons-main {\n    max-width: 492px;\n    margin: 0 auto;\n    border-radius: 3px;\n    margin-bottom: 16px;\n    margin-top: 0;\n  }\n  .buttons-main label {\n    font-weight: 600;\n    margin: 0 0 6px;\n  }\n  .note {\n    color: #586069;\n    font-size: 12px;\n    margin: 4px 0 2px;\n    min-height: 17px;\n  }\n  .block-item {\n    margin-bottom: 16px;\n  }\n\n  .one-time,\n  .row {\n    display: flex;\n    flex-direction: row;\n  }\n\n  .button-add,\n  .button-remove {\n    margin: 5px auto;\n    line-height: 38px;\n    cursor: pointer;\n    text-align: center;\n    border-radius: 4px;\n    max-width: 200px;\n    user-select: none;\n  }\n\n  .button-add {\n    color: #55677d;\n  }\n  .button-add:hover {\n    background: #dfe6ed;\n  }\n  .button-add:active {\n    background: #dae2ea;\n  }\n\n  .button-remove {\n    color: #db3b3b;\n  }\n  .button-remove:hover {\n    color: #fff;\n    background: #eb5050;\n  }\n  .button-remove:active {\n    color: #fff;\n    background: #db3b3b;\n  }\n\n  .one-time {\n    margin-bottom: 16px;\n    margin-top: 0;\n  }\n  .one-time label {\n    margin-left: 6px;\n  }\n</style>\n\n<div class=\"app\">\n  <h1>Генератор клавиатуры для VK</h1>\n\n  <p>\n    Генерирует\n    <a href=\"https://vk.com/dev/bots_docs_3\">клавиатуру</a>\n    для ботов. Проверить клавиатуру можно отправив JSON\n    <a href=\"https://vk.com/im?sel=-174472256\">боту</a>\n    .\n  </p>\n  <p>\n    <a href=\"https://github.com/SevereCloud/vk-keyboard\">GitHub</a>\n  </p>\n\n  <h3>Клавиатура</h3>\n\n  <div class=\"buttons-main\">\n    {#each $keyboard.buttons as buttons, ii}\n      <div class=\"row\">\n        <Buttons>\n          {#each buttons as button, jj}\n            <Button\n              type={button.action.type}\n              label={button.action.label}\n              color={button.color}\n              select={i == ii && j == jj ? true : false}\n              on:click={() => {\n                i = ii;\n                j = jj;\n              }} />\n          {/each}\n        </Buttons>\n        {#if keyboard.buttons[ii].length < 5}\n          <div class=\"button-add\" on:click={() => keyboard.addColumn(ii)}>\n            +\n          </div>\n        {/if}\n      </div>\n    {/each}\n    {#if keyboard.buttons.length < 10}\n      <div class=\"button-add\" on:click={() => keyboard.addLastRow()}>\n        Добавить\n      </div>\n    {/if}\n\n    <div class=\"border\">\n      <div class=\"block-item\">\n        <label>Тип клавиши</label>\n\n        <Buttons>\n          <Button\n            label=\"Text\"\n            color={$keyboard.buttons[i][j].action.type === ButtonType.Text ? 'primary' : 'secondary'}\n            on:click={() => $keyboard.buttons[i][j].toText()} />\n          <Button\n            label=\"Open Link\"\n            color={$keyboard.buttons[i][j].action.type === ButtonType.OpenLink ? 'primary' : 'secondary'}\n            on:click={() => $keyboard.buttons[i][j].toOpenLink()} />\n          <Button\n            label=\"Location\"\n            color={$keyboard.buttons[i][j].action.type === ButtonType.Location ? 'primary' : 'secondary'}\n            on:click={() => $keyboard.buttons[i][j].toLocation()} />\n          <Button\n            label=\"VK Pay\"\n            color={$keyboard.buttons[i][j].action.type === ButtonType.VKPay ? 'primary' : 'secondary'}\n            on:click={() => $keyboard.buttons[i][j].toVKPay()} />\n          <Button\n            label=\"VK Apps\"\n            color={$keyboard.buttons[i][j].action.type === ButtonType.VKApps ? 'primary' : 'secondary'}\n            on:click={() => $keyboard.buttons[i][j].toVKApps()} />\n        </Buttons>\n      </div>\n\n      {#if [ButtonType.Text, ButtonType.VKApps, ButtonType.OpenLink].includes($keyboard.buttons[i][j].action.type)}\n        <div class=\"block-item\">\n          <label>Текст</label>\n          <input\n            type=\"text\"\n            bind:value={$keyboard.buttons[i][j].action.label} />\n          {#each checkLabel($keyboard.buttons[i][j].action.label) as err}\n            <div class=\"note\" style=\"color:#db3b3b;\">\n              <b>{err}</b>\n            </div>\n          {/each}\n        </div>\n      {/if}\n\n      {#if [ButtonType.OpenLink].includes($keyboard.buttons[i][j].action.type)}\n        <div class=\"block-item\">\n          <label>Ссылка</label>\n          <input type=\"text\" bind:value={$keyboard.buttons[i][j].action.link} />\n        </div>\n      {/if}\n\n      {#if $keyboard.buttons[i][j].action.type === ButtonType.VKPay}\n        <div class=\"block-item\">\n          <label>Параметры платежа VK Pay</label>\n          <input type=\"text\" bind:value={$keyboard.buttons[i][j].action.hash} />\n          {#if $keyboard.buttons[i][j].action.hash === ''}\n            <b class=\"note\" style=\"color:#db3b3b;\">Пустой hash!</b>\n          {/if}\n        </div>\n      {/if}\n\n      {#if $keyboard.buttons[i][j].action.type === ButtonType.VKApps}\n        <div class=\"block-item\">\n          <label>Приложение</label>\n          <input\n            type=\"number\"\n            bind:value={$keyboard.buttons[i][j].action.app_id} />\n          {#if $keyboard.buttons[i][j].action.app_id === ''}\n            <b class=\"note\" style=\"color:#db3b3b;\">Пустой индификатор!</b>\n          {/if}\n        </div>\n        <div class=\"block-item\">\n          <label>Идентификатор сообщества</label>\n          <input\n            type=\"number\"\n            bind:value={$keyboard.buttons[i][j].action.owner_id} />\n        </div>\n        <div class=\"block-item\">\n          <label>Хэш</label>\n          <input type=\"text\" bind:value={$keyboard.buttons[i][j].action.hash} />\n        </div>\n      {/if}\n\n      <div class=\"block-item\">\n        <label>Полезная нагрузка</label>\n        <input\n          type=\"text\"\n          bind:value={$keyboard.buttons[i][j].action.payload} />\n        {#each checkPayload($keyboard.buttons[i][j].action.payload) as err}\n          <div class=\"note\" style=\"color:#db3b3b;\">\n            <b>{err}</b>\n          </div>\n        {/each}\n      </div>\n\n      {#if $keyboard.buttons[i][j].action.type === ButtonType.Text}\n        <div class=\"block-item\">\n          <label>Цвет</label>\n          <Buttons>\n            {#each ['primary', 'secondary', 'negative', 'positive'] as color}\n              <Button\n                label={$keyboard.buttons[i][j].color === color ? 'X' : ''}\n                {color}\n                on:click={() => ($keyboard.buttons[i][j].color = color)} />\n            {/each}\n          </Buttons>\n        </div>\n      {/if}\n\n      <div class=\"button-remove\" on:click={() => removeButton()}>Удалить</div>\n    </div>\n\n    <div class=\"block-item\">\n\n      <Buttons>\n        <Button\n          label=\"Клавиатура\"\n          on:click={() => keyboard.toKeyboard()}\n          color={$keyboard.inline !== true ? 'primary' : 'secondary'} />\n        <Button\n          label=\"Инлайн клавиатура\"\n          on:click={() => keyboard.toInlineKeyboard()}\n          color={$keyboard.inline === true ? 'primary' : 'secondary'} />\n      </Buttons>\n    </div>\n    {#if $keyboard.inline !== true}\n      <div class=\"one-time\">\n        <input type=\"checkbox\" bind:checked={$keyboard.one_time} />\n        <label>скрывать клавиатуру сразу</label>\n      </div>\n    {/if}\n\n  </div>\n\n  {#if errors}\n    <h3>Ошибки</h3>\n    <pre>{errors}</pre>\n  {:else}\n    <Export keyboard={$keyboard} />\n  {/if}\n</div>\n","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body\n});\n\nexport default app;"],"names":["noop","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","get_slot_context","definition","ctx","$$scope","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","length","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","setAttribute","to_number","undefined","set_data","set_style","key","style","setProperty","select_option","select","option","__value","selected","toggle_class","toggle","classList","current_component","set_current_component","component","createEventDispatcher","type","detail","callbacks","$$","e","createEvent","initCustomEvent","custom_event","slice","call","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","push","flush","seen_callbacks","Set","shift","update","pop","callback","has","add","fragment","dirty","before_update","p","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","mount_component","on_mount","on_destroy","m","new_on_destroy","map","filter","destroy_component","make_dirty","then","init","instance","create_fragment","not_equal","prop_names","parent_component","props","bound","context","Map","ready","hydrate","l","Array","from","childNodes","children","intro","SvelteComponent","[object Object]","this","$destroy","index","indexOf","splice","JSON","stringify","keyboard","JSONminify","select_export","selected_option","querySelector","label","background","color","bold","dispatch","slot_ctx","changed","Stat","dict","WritableClass","start","_subscribers","_start","runQueue","_subscriber_queue","s","invalidate","subscriber","_stop","set","getOwnPropertyNames","prop","startsWith","_notifyAll","checkLabel","error","checkPayload","payload","parse","ButtonType","Color","ButtonActionText","Text","ButtonActionOpenLink","OpenLink","link","RegExp","test","ButtonActionLocation","Location","ButtonActionVKPay","VKPay","hash","ButtonActionVKApps","VKApps","app_id","owner_id","Button","super","action","Primary","check","Keyboard","buttons","crutch","toKeyboard","inline","one_time","addColumn","row","button","subscribe","column","counter","typeStat","j","err","ii","jj","click_handler_1","$keyboard","errors","includes","store","unsub","unsubscribe","addLastRow","removeButton","body"],"mappings":"gCAAA,SAASA,KAET,SAASC,EAAOC,EAAKC,GAEjB,IAAK,MAAMC,KAAKD,EACZD,EAAIE,GAAKD,EAAIC,GACjB,OAAOF,EAUX,SAASG,EAAIC,GACT,OAAOA,IAEX,SAASC,IACL,OAAOC,OAAOC,OAAO,MAEzB,SAASC,EAAQC,GACbA,EAAIC,QAAQP,GAEhB,SAASQ,EAAYC,GACjB,MAAwB,mBAAVA,EAElB,SAASC,EAAeC,EAAGC,GACvB,OAAOD,GAAKA,EAAIC,GAAKA,EAAID,IAAMC,GAAOD,GAAkB,iBAANA,GAAgC,mBAANA,EA4BhF,SAASE,EAAiBC,EAAYC,EAAKd,GACvC,OAAOa,EAAW,GACZlB,EAAO,GAAIA,EAAOmB,EAAIC,QAAQD,IAAKD,EAAW,GAAGb,EAAKA,EAAGc,GAAO,MAChEA,EAAIC,QAAQD,IA0EtB,SAASE,EAAOC,EAAQC,GACpBD,EAAOE,YAAYD,GAEvB,SAASE,EAAOH,EAAQC,EAAMG,GAC1BJ,EAAOK,aAAaJ,EAAMG,GAAU,MAExC,SAASE,EAAOL,GACZA,EAAKM,WAAWC,YAAYP,GAEhC,SAASQ,EAAaC,EAAYC,GAC9B,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAWG,OAAQD,GAAK,EACpCF,EAAWE,IACXF,EAAWE,GAAGE,EAAEH,GAG5B,SAASI,EAAQC,GACb,OAAOC,SAASC,cAAcF,GAelC,SAASG,EAAYH,GACjB,OAAOC,SAASG,gBAAgB,6BAA8BJ,GAElE,SAASK,EAAKC,GACV,OAAOL,SAASM,eAAeD,GAEnC,SAASE,IACL,OAAOH,EAAK,KAEhB,SAASI,IACL,OAAOJ,EAAK,IAEhB,SAASK,EAAOzB,EAAM0B,EAAOC,EAASC,GAElC,OADA5B,EAAK6B,iBAAiBH,EAAOC,EAASC,GAC/B,IAAM5B,EAAK8B,oBAAoBJ,EAAOC,EAASC,GAgB1D,SAASG,EAAK/B,EAAMgC,EAAWC,GACd,MAATA,EACAjC,EAAKkC,gBAAgBF,GAErBhC,EAAKmC,aAAaH,EAAWC,GAkCrC,SAASG,EAAUH,GACf,MAAiB,KAAVA,OAAeI,GAAaJ,EAoCvC,SAASK,EAASlB,EAAMC,GACpBA,EAAO,GAAKA,EACRD,EAAKC,OAASA,IACdD,EAAKC,KAAOA,GAUpB,SAASkB,EAAUvC,EAAMwC,EAAKP,GAC1BjC,EAAKyC,MAAMC,YAAYF,EAAKP,GAEhC,SAASU,EAAcC,EAAQX,GAC3B,IAAK,IAAItB,EAAI,EAAGA,EAAIiC,EAAOhB,QAAQhB,OAAQD,GAAK,EAAG,CAC/C,MAAMkC,EAASD,EAAOhB,QAAQjB,GAC9B,GAAIkC,EAAOC,UAAYb,EAEnB,YADAY,EAAOE,UAAW,IA8C9B,SAASC,EAAalC,EAASC,EAAMkC,GACjCnC,EAAQoC,UAAUD,EAAS,MAAQ,UAAUlC,GA8JjD,IAAIoC,EACJ,SAASC,EAAsBC,GAC3BF,EAAoBE,EAmBxB,SAASC,IACL,MAAMD,EAAYF,EAClB,MAAO,CAACI,EAAMC,KACV,MAAMC,EAAYJ,EAAUK,GAAGD,UAAUF,GACzC,GAAIE,EAAW,CAGX,MAAM/B,EAxLlB,SAAsB6B,EAAMC,GACxB,MAAMG,EAAI3C,SAAS4C,YAAY,eAE/B,OADAD,EAAEE,gBAAgBN,GAAM,GAAO,EAAOC,GAC/BG,EAqLeG,CAAaP,EAAMC,GACjCC,EAAUM,QAAQ3E,QAAQN,IACtBA,EAAGkF,KAAKX,EAAW3B,OAqBnC,MAAMuC,EAAmB,GAEnBC,EAAoB,GACpBC,EAAmB,GACnBC,EAAkB,GAClBC,EAAmBC,QAAQC,UACjC,IAAIC,GAAmB,EAWvB,SAASC,EAAoB3F,GACzBqF,EAAiBO,KAAK5F,GAK1B,SAAS6F,IACL,MAAMC,EAAiB,IAAIC,IAC3B,EAAG,CAGC,KAAOZ,EAAiBrD,QAAQ,CAC5B,MAAMyC,EAAYY,EAAiBa,QACnC1B,EAAsBC,GACtB0B,EAAO1B,EAAUK,IAErB,KAAOQ,EAAkBtD,QACrBsD,EAAkBc,KAAlBd,GAIJ,IAAK,IAAIvD,EAAI,EAAGA,EAAIwD,EAAiBvD,OAAQD,GAAK,EAAG,CACjD,MAAMsE,EAAWd,EAAiBxD,GAC7BiE,EAAeM,IAAID,KACpBA,IAEAL,EAAeO,IAAIF,IAG3Bd,EAAiBvD,OAAS,QACrBqD,EAAiBrD,QAC1B,KAAOwD,EAAgBxD,QACnBwD,EAAgBY,KAAhBZ,GAEJI,GAAmB,EAEvB,SAASO,EAAOrB,GACRA,EAAG0B,WACH1B,EAAGqB,OAAOrB,EAAG2B,OACbnG,EAAQwE,EAAG4B,eACX5B,EAAG0B,SAASG,EAAE7B,EAAG2B,MAAO3B,EAAG9D,KAC3B8D,EAAG2B,MAAQ,KACX3B,EAAG8B,aAAapG,QAAQqF,IAiBhC,MAAMgB,EAAW,IAAIZ,IACrB,IAAIa,EACJ,SAASC,IACLD,EAAS,CACLE,EAAG,EACHC,EAAG,GACHN,EAAGG,GAGX,SAASI,IACAJ,EAAOE,GACR1G,EAAQwG,EAAOG,GAEnBH,EAASA,EAAOH,EAEpB,SAASQ,EAAcC,EAAOC,GACtBD,GAASA,EAAMrF,IACf8E,EAASS,OAAOF,GAChBA,EAAMrF,EAAEsF,IAGhB,SAASE,EAAeH,EAAOC,EAAO5F,EAAQ4E,GAC1C,GAAIe,GAASA,EAAMI,EAAG,CAClB,GAAIX,EAASP,IAAIc,GACb,OACJP,EAASN,IAAIa,GACbN,EAAOG,EAAEnB,KAAK,KACVe,EAASS,OAAOF,GACZf,IACI5E,GACA2F,EAAMnF,EAAE,GACZoE,OAGRe,EAAMI,EAAEH,IA0gBhB,SAASI,EAAgBhD,EAAWtD,EAAQI,GACxC,MAAMiF,SAAEA,EAAQkB,SAAEA,EAAQC,WAAEA,EAAUf,aAAEA,GAAiBnC,EAAUK,GACnE0B,EAASoB,EAAEzG,EAAQI,GAEnBsE,EAAoB,KAChB,MAAMgC,EAAiBH,EAASI,IAAI7H,GAAK8H,OAAOtH,GAC5CkH,EACAA,EAAW7B,QAAQ+B,GAKnBvH,EAAQuH,GAEZpD,EAAUK,GAAG4C,SAAW,KAE5Bd,EAAapG,QAAQqF,GAEzB,SAASmC,EAAkBvD,EAAW3C,GAC9B2C,EAAUK,GAAG0B,WACblG,EAAQmE,EAAUK,GAAG6C,YACrBlD,EAAUK,GAAG0B,SAASvE,EAAEH,GAGxB2C,EAAUK,GAAG6C,WAAalD,EAAUK,GAAG0B,SAAW,KAClD/B,EAAUK,GAAG9D,IAAM,IAG3B,SAASiH,EAAWxD,EAAWb,GACtBa,EAAUK,GAAG2B,QACdpB,EAAiBS,KAAKrB,GA9oBrBmB,IACDA,GAAmB,EACnBH,EAAiByC,KAAKnC,IA8oBtBtB,EAAUK,GAAG2B,MAAQtG,KAEzBsE,EAAUK,GAAG2B,MAAM7C,IAAO,EAE9B,SAASuE,EAAK1D,EAAWzB,EAASoF,EAAUC,EAAiBC,EAAWC,GACpE,MAAMC,EAAmBjE,EACzBC,EAAsBC,GACtB,MAAMgE,EAAQzF,EAAQyF,OAAS,GACzB3D,EAAKL,EAAUK,GAAK,CACtB0B,SAAU,KACVxF,IAAK,KAELyH,MAAOF,EACPpC,OAAQvG,EACR0I,UAAAA,EACAI,MAAOvI,IAEPuH,SAAU,GACVC,WAAY,GACZjB,cAAe,GACfE,aAAc,GACd+B,QAAS,IAAIC,IAAIJ,EAAmBA,EAAiB1D,GAAG6D,QAAU,IAElE9D,UAAW1E,IACXsG,MAAO,MAEX,IAAIoC,GAAQ,EACZ/D,EAAG9D,IAAMoH,EACHA,EAAS3D,EAAWgE,EAAO,CAAC7E,EAAKP,KAC3ByB,EAAG9D,KAAOsH,EAAUxD,EAAG9D,IAAI4C,GAAMkB,EAAG9D,IAAI4C,GAAOP,KAC3CyB,EAAG4D,MAAM9E,IACTkB,EAAG4D,MAAM9E,GAAKP,GACdwF,GACAZ,EAAWxD,EAAWb,MAGhC6E,EACN3D,EAAGqB,SACH0C,GAAQ,EACRvI,EAAQwE,EAAG4B,eACX5B,EAAG0B,SAAW6B,EAAgBvD,EAAG9D,KAC7BgC,EAAQ7B,SACJ6B,EAAQ8F,QAERhE,EAAG0B,SAASuC,EAn/BxB,SAAkB7G,GACd,OAAO8G,MAAMC,KAAK/G,EAAQgH,YAk/BJC,CAASnG,EAAQ7B,SAI/B2D,EAAG0B,SAASS,IAEZjE,EAAQoG,OACRjC,EAAc1C,EAAUK,GAAG0B,UAC/BiB,EAAgBhD,EAAWzB,EAAQ7B,OAAQ6B,EAAQzB,QACnDwE,KAEJvB,EAAsBgE,GAsC1B,MAAMa,EACFC,WACItB,EAAkBuB,KAAM,GACxBA,KAAKC,SAAW5J,EAEpB0J,IAAI3E,EAAM0B,GACN,MAAMxB,EAAa0E,KAAKzE,GAAGD,UAAUF,KAAU4E,KAAKzE,GAAGD,UAAUF,GAAQ,IAEzE,OADAE,EAAUiB,KAAKO,GACR,KACH,MAAMoD,EAAQ5E,EAAU6E,QAAQrD,IACjB,IAAXoD,GACA5E,EAAU8E,OAAOF,EAAO,IAGpCH,6CC9wCHM,KAAKC,YAAUC,SAAU,KAAIC,WAAW,EAAE,8QALLA,qFAAAA,+CAKrCH,KAAKC,YAAUC,SAAU,KAAIC,WAAW,EAAE,sEAtBlC,eAAIA,GAAa,EAAKD,SAClBA,mVCyBJA,0GAAAA,oIADa,UAAjBE,mJAL8BA,iKAAAA,iFAAAA,eAKb,UAAjBA,mNAtBH,IAAIA,YACOF,kIFwSb,SAAsB9F,GAClB,MAAMiG,EAAkBjG,EAAOkG,cAAc,aAAelG,EAAOhB,QAAQ,GAC3E,OAAOiH,GAAmBA,EAAgB/F,8ySG5JzC1B,OAAKmC,OAAMwF,2BAdC,cAARxF,QAMa,cAARA,sCAUG,WAARA,aA6GQ,eAARA,yJA/HWyF,aAAWzF,OAAM0F,uCAAeC,qBAAWtG,sBAAiBhD,8MAgB3EwB,OAAKmC,OAAMwF,gBAEC,WAARxF,mDA6GQ,eAARA,4FA/HWyF,aAAWzF,OAAM0F,gGAAeC,gEAAWtG,kFAhI7D,MAAMuG,EAAW7F,IAEV,UAAIyF,EAAQ,GAAEE,MACVA,EAAQ,GAAE1F,KACVA,EAAO,GAAEX,OACTA,GAAS,KA2BhBsG,GAAK,yMACNA,EAAa,QAAN3F,qDA1BC,CAACA,EAAMwF,KAChB,OAAQxF,GACN,IAAK,WACH,MAAO,gCACT,IAAK,QACH,MAAO,iBACT,QACE,OAAOwF,eAII,CAACxF,EAAM0F,KACtB,OAAQ1F,GACN,IAAK,WACH,MAAO,YACT,IAAK,QACH,MAAO,UACT,IAAK,WAEL,IAAK,YACH,MAAO,YACT,QACE,MAAgB,IAAT0F,EAAc,UAAYA,0MHmBzC,SAAqBtJ,EAAYC,EAAKd,GAClC,GAAIa,EAAY,CACZ,MAAMyJ,EAAW1J,EAAiBC,EAAYC,EAAKd,GACnD,OAAOa,EAAW,GAAGyJ,+KAQ7B,SAA0BzJ,EAAYC,EAAKyJ,EAASvK,GAChD,OAAOa,EAAW,GACZlB,EAAO,GAAIA,EAAOmB,EAAIC,QAAQwJ,SAAW,GAAI1J,EAAW,GAAGb,EAAKA,EAAGuK,GAAW,MAC9EzJ,EAAIC,QAAQwJ,SAAW,wSI/DpBC,GAAbpB,cACEC,UAEI,GACJD,IAAI1F,QACqBH,IAAnB8F,KAAKoB,KAAK/G,KACZ2F,KAAKoB,KAAK/G,GAAO,GAEnB2F,KAAKoB,KAAK/G,MAKd,SAAShE,YAqBIgL,GAMXtB,YAAYuB,EAAgCjL,IAJpC2J,uBAAoB,GAK1BA,KAAKuB,aAAe,GACpBvB,KAAKwB,OAASF,EAGhBvB,aACE,MAAM0B,GAAYzB,KAAK0B,kBAAkBjJ,OACzC,IAAK,IAAID,EAAI,EAAGA,EAAIwH,KAAKuB,aAAa9I,OAAQD,GAAK,EAAG,CACpD,MAAMmJ,EAAI3B,KAAKuB,aAAa/I,GAC5BmJ,EAAE,KACF3B,KAAK0B,kBAAkBnF,KAAKoF,EAAG3B,MAEjC,GAAIyB,EAAU,CACZ,IAAK,IAAIjJ,EAAI,EAAGA,EAAIwH,KAAK0B,kBAAkBjJ,OAAQD,GAAK,EACtDwH,KAAK0B,kBAAkBlJ,GAAG,GAAGwH,KAAK0B,kBAAkBlJ,EAAI,IAE1DwH,KAAK0B,kBAAkBjJ,OAAS,GAIpCsH,UAAUrJ,EAAsBkL,EAA+BvL,IAC7D,MAAMwL,EAA4C,CAACnL,EAAKkL,GASxD,OARA5B,KAAKuB,aAAahF,KAAKsF,GACU,IAA7B7B,KAAKuB,aAAa9I,SAEpBuH,KAAK8B,MAAQ9B,KAAKwB,OAAOxB,KAAK+B,MAAQ1L,IAGxCK,EAAIsJ,MAEG,KACL,MAAME,EAAQF,KAAKuB,aAAapB,QAAQ0B,IACzB,IAAX3B,GACFF,KAAKuB,aAAanB,OAAOF,EAAO,GAED,IAA7BF,KAAKuB,aAAa9I,SACpBuH,KAAK8B,QACL9B,KAAK8B,MAAQ,OAKnB/B,IAAI7G,GACFrC,OAAOmL,oBAAoBhC,MACxBxB,OAAOyD,IAASA,EAAKC,WAAW,MAChCjL,QAAQgL,IACP/I,EAAK+I,KAAUjC,KAAKiC,GAAQ/I,EAAK+I,MAEjCjC,KAAK8B,OACP9B,KAAKmC,aAITpC,OAAOpJ,GACLqJ,KAAK+B,IAAIpL,EAAGqJ,iBCzFAoC,GAAWxB,GACzB,MAAMyB,EAAuB,GAE7B,YAAcnI,IAAV0G,GACFyB,EAAM9F,KAAK,qBACJ8F,IAGLzB,EAAMnI,OAAS,GACjB4J,EAAM9F,KAAK,6CAGTqE,EAAMnI,OAAS,IACjB4J,EAAM9F,KAAK,mDAGN8F,YAOOC,GAAaC,GAC3B,MAAMF,EAAuB,GAE7B,QAAgBnI,IAAZqI,GAAqC,KAAZA,EAC3B,OAAOF,EAGLE,EAAQ9J,OAAS,KACnB4J,EAAM9F,KAAK,sDAGb,IACE8D,KAAKmC,MAAMD,GACX,MAAO/G,GACP6G,EAAM9F,KAAK,mCAGb,OAAO8F,EAeT,IAAYI,GAUAC,IAVZ,SAAYD,GACVA,cACAA,uBACAA,sBACAA,gBACAA,oBALF,CAAYA,KAAAA,QAUZ,SAAYC,GAEVA,oBAEAA,wBAEAA,sBAEAA,sBARF,CAAYA,KAAAA,cAwBCC,GAKX5C,cAJSC,UAAOyC,GAAWG,KAKzB5C,KAAKY,MAAQ,QACbZ,KAAKuC,QAAU,GAIjBxC,QACE,MAAMsC,EAAuB,GAK7B,OAHAA,EAAM9F,QAAQ6F,GAAWpC,KAAKY,QAC9ByB,EAAM9F,QAAQ+F,GAAatC,KAAKuC,UAEzBF,SAIEQ,GAMX9C,cALSC,UAAOyC,GAAWK,SAMzB9C,KAAK+C,KAAO,iBACZ/C,KAAKY,MAAQ,QACbZ,KAAKuC,QAAU,GAIjBxC,QACE,MAAMsC,EAAuB,GAI7B,GAFAA,EAAM9F,QAAQ6F,GAAWpC,KAAKY,QAC9ByB,EAAM9F,QAAQ+F,GAAatC,KAAKuC,eACdrI,IAAd8F,KAAK+C,KACPV,EAAM9F,KAAK,wBACN,CAEH,IAAIyG,OAAO,4DAEEC,KAAKjD,KAAK+C,OACvBV,EAAM9F,KAAK,oBAIf,OAAO8F,SAIEa,GAIXnD,cAHSC,UAAOyC,GAAWU,SAIzBnD,KAAKuC,QAAU,GAIjBxC,QACE,MAAMsC,EAAuB,GAI7B,OAFAA,EAAM9F,QAAQ+F,GAAatC,KAAKuC,UAEzBF,SAKEe,GAKXrD,cAJSC,UAAOyC,GAAWY,MAKzBrD,KAAKuC,QAAU,GACfvC,KAAKsD,KAAO,GAIdvD,QACE,MAAMsC,EAAuB,GAK7B,OAHAA,EAAM9F,QAAQ+F,GAAatC,KAAKuC,UAGzBF,SAIEkB,GAQXxD,cAPSC,UAAOyC,GAAWe,OASzBxD,KAAKyD,OAAS,EAEdzD,KAAK0D,SAAW,EAChB1D,KAAKuC,QAAU,GACfvC,KAAKY,MAAQ,QACbZ,KAAKsD,KAAO,GAIdvD,QACE,MAAMsC,EAAuB,GAiB7B,OAfAA,EAAM9F,QAAQ6F,GAAWpC,KAAKY,QAC9ByB,EAAM9F,QAAQ+F,GAAatC,KAAKuC,eAEdrI,IAAd8F,KAAKsD,MACHtD,KAAKsD,KAAK7K,OAAS,KACrB4J,EAAM9F,KAAK,wDAIKrC,IAAhB8F,KAAKyD,QACPpB,EAAM9F,KAAK,sBAKN8F,SAOEsB,WAAetC,GAM1BtB,cACE6D,QACA5D,KAAK6D,OAAS,IAAIlB,GAClB3C,KAAKc,MAAQ4B,GAAMoB,QAGrB/D,SACEC,KAAK6D,OAAS,IAAIlB,GAClB3C,KAAKc,MAAQ4B,GAAMoB,QACnB9D,KAAKmC,aAGPpC,aACEC,KAAK6D,OAAS,IAAIhB,GAClB7C,KAAKc,WAAQ5G,EACb8F,KAAKmC,aAGPpC,aACEC,KAAK6D,OAAS,IAAIX,GAClBlD,KAAKc,WAAQ5G,EACb8F,KAAKmC,aAGPpC,UACEC,KAAK6D,OAAS,IAAIT,GAClBpD,KAAKc,WAAQ5G,EACb8F,KAAKmC,aAGPpC,WACEC,KAAK6D,OAAS,IAAIN,GAClBvD,KAAKc,WAAQ5G,EACb8F,KAAKmC,aAGPpC,YAAYe,GACNd,KAAK6D,OAAOzI,OAASqH,GAAWG,OAClC5C,KAAKc,MAAQA,EACbd,KAAKmC,cAITpC,SACE,MAAO,CACL8D,OAAQ7D,KAAK6D,OACb/C,MAAOd,KAAKc,OAKhBf,QACE,MAAMsC,EAAuB,GAQ7B,YANoBnI,IAAhB8F,KAAK6D,OACPxB,EAAM9F,KAAK,sBAEX8F,EAAM9F,QAAQyD,KAAK6D,OAAOE,SAGrB1B,SAQE2B,WAAiB3C,GAuB5BtB,cACE6D,QACA5D,KAAKiE,QAAU,GACfjE,KAAKkE,QAAS,EACdlE,KAAKmE,aAGPpE,aACEC,KAAKoE,YAASlK,EACd8F,KAAKmC,aAGPpC,mBAEEC,KAAKqE,cAAWnK,EAChB8F,KAAKoE,QAAS,EACdpE,KAAKmC,aAGPpC,SACE,MAAO,CAELsE,SAAUrE,KAAKqE,SACfJ,QAASjE,KAAKiE,QACdG,OAAQpE,KAAKoE,QAMjBrE,aACEC,KAAKiE,QAAQ1H,KAAK,IAClByD,KAAKsE,UAAUtE,KAAKiE,QAAQxL,OAAS,GAGvCsH,UAAUwE,GACR,MAAMC,EAAS,IAAIb,GACnB3D,KAAKiE,QAAQM,GAAKhI,KAAKiI,GAEvBA,EAAOC,UAAU,KACfzE,KAAKmC,eAEPnC,KAAKmC,aAGPpC,aAAawE,EAAaG,GACxB1E,KAAKiE,QAAQM,GAAKnE,OAAOsE,EAAQ,GAC7B1E,KAAKiE,QAAQM,GAAK9L,OAAS,GAC7BuH,KAAKiE,QAAQ7D,OAAOmE,EAAK,GAE3BvE,KAAKmC,aAOPpC,QACE,IAAIsC,EAAQ,GAMZ,GAJIrC,KAAKqE,UAAYrE,KAAKoE,SACxB/B,GAAS,8DAGUnI,IAAjB8F,KAAKiE,QACP5B,GAAS,yCACJ,CACL,IAAIsC,EAAU,EACd3E,KAAKiE,QAAQhN,QAAQ,CAACsN,EAAK/L,KACrB+L,EAAI9L,OAAS,IACf4J,GAAS,WAAW7J,aAGtB,MAAMoM,EAAW,IAAIzD,GAErBoD,EAAItN,QAAQ,CAACuN,EAAQK,KACnBF,IACAC,EAAS5H,IAAIwH,EAAOX,OAAOzI,MAE3BoJ,EAAOT,QAAQ9M,QAAQ6N,IACrBzC,GAAS,WAAW7J,MAAMqM,OAAOC,UAWjCF,EAASxD,KAAKqB,GAAWY,OAAS,IACpChB,GAAS,WAAW7J,8DAGlBoM,EAASxD,KAAKqB,GAAWU,UAAY,IACvCd,GAAS,WAAW7J,iEAGlBoM,EAASxD,KAAKqB,GAAWe,QAAU,IACrCnB,GAAS,WAAW7J,iEAGlBoM,EAASxD,KAAKqB,GAAWK,UAAY,IACvCT,GAAS,WAAW7J,kEAGlBwH,KAAKoE,OAEHG,EAAI9L,OAAS,IACf4J,GAAS,WAAW7J,2CAqBtBwH,KAAKoE,QAEHpE,KAAKiE,QAAQxL,OAAS,IACxB4J,GAAS,2CAGPsC,EAAU,KACZtC,GAAS,mDAKPrC,KAAKiE,QAAQxL,OAAS,KACxB4J,GAAS,4CAGPsC,EAAU,KACZtC,GAAS,kDAKf,OAAOA,2YCrUSmC,OAAOX,OAAOzI,aACboJ,OAAOX,OAAOjD,cACd4D,OAAO1D,eACNtI,KAAKuM,MAAMF,KAAKG,6JAHlBR,OAAOX,OAAOzI,8BACboJ,OAAOX,OAAOjD,+BACd4D,OAAO1D,+BACNtI,KAAKuM,MAAMF,KAAKG,6HALrBf,qBAALxL,iGAAAA,mDAAAA,4EAAKwL,wBAALxL,+HAAAA,WAAAA,mDAAAA,oEAAAA,8MAagCwM,4IAD/B1E,SAAS0D,UAAQc,IAAItM,OAAS,wPAA9B8H,SAAS0D,UAAQc,IAAItM,OAAS,+QAQHhB,2HAYrByN,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWG,KAAO,UAAY,6BACnEnL,kEAGHyN,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWK,SAAW,UAAY,6BACvErL,iEAGHyN,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWU,SAAW,UAAY,6BACvE1L,+DAGHyN,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWY,MAAQ,UAAY,6BACpE5L,gEAGHyN,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWe,OAAS,UAAY,oCACrE/L,2SAjBHyN,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWG,KAAO,UAAY,kFAItEsC,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWK,SAAW,UAAY,kFAI1EoC,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWU,SAAW,UAAY,kFAI1E+B,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWY,MAAQ,UAAY,kFAIvE6B,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWe,OAAS,UAAY,gWAW1EpB,KAAW8C,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOjD,oBAA/CnI,iIAAAA,+NADYyM,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOjD,6BAC3CnI,2EADYyM,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOjD,kBAA/BsE,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOjD,8CACtCwB,KAAW8C,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOjD,uBAA/CnI,8FAAAA,wBAAAA,SAAAA,kEAEMqM,yLAAAA,mVASuBI,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOd,kDAA/BmC,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOd,iBAA/BmC,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOd,2DAQjB,OAAxCmC,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOP,qUADL4B,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOP,wEAA/B4B,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOP,iBAA/B4B,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOP,MACjB,OAAxC4B,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOP,wSAYW,OAA1C4B,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOJ,+wBADtByB,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOJ,8EAS/ByB,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOH,0DAIdwB,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOP,iDAbhD4B,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOJ,QACE,OAA1CyB,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOJ,4FAQtByB,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOH,+CAIdwB,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOP,iBAA/B4B,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOP,mQAWxDwB,yLAAAA,6hBAWOI,UAAUjB,UAAQzL,KAAGqM,GAAG/D,UAAUA,MAAQ,IAAM,WACtDA,+KADMoE,UAAUjB,UAAQzL,KAAGqM,GAAG/D,UAAUA,MAAQ,IAAM,2HAFpD,CAAC,UAAW,YAAa,WAAY,kOAArC,CAAC,UAAW,YAAa,WAAY,4BAA1CrI,+HAAAA,+NAmBwB,MAArByM,UAAUd,OAAkB,UAAY,6BADrC3M,0EAKkB,MAArByN,UAAUd,OAAkB,UAAY,oCADrC3M,mJAHkB,MAArByN,UAAUd,OAAkB,UAAY,uDAInB,MAArBc,UAAUd,OAAkB,UAAY,8bAKZc,UAAUb,yDAAVa,UAAUb,8EAWjCa,4GAAAA,mMAFZC,0EAAAA,iJAlKCD,UAAUjB,wBAAfxL,sFAsBG8H,SAAS0D,QAAQxL,OAAS,yEAkCxB,CAACgK,GAAWG,KAAMH,GAAWe,OAAQf,GAAWK,UAAUsC,WAASF,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,gBAclG,CAACqH,GAAWK,UAAUsC,WAASF,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,kBAO9D8J,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWY,kBAUnD6B,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWe,iBA2B/ClB,KAAa4C,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOtB,8BAAjD9J,6CAOCyM,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWG,4EA8BhC,MAArBsC,UAAUd,uDASZe,uiBAhKD1M,+SAkHIA,ikBAqBiChB,qHAvIrCgB,iPAiHgByM,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOtB,4BAC3C9J,mMAlHCyM,UAAUjB,wBAAfxL,2HAAAA,YAAAA,wBAsBG8H,SAAS0D,QAAQxL,OAAS,iJAkCxB,CAACgK,GAAWG,KAAMH,GAAWe,OAAQf,GAAWK,UAAUsC,WAASF,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,oEAclG,CAACqH,GAAWK,UAAUsC,WAASF,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,sEAO9D8J,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWY,sEAUnD6B,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWe,0GA0BxC0B,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOtB,oBAA/B2C,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOtB,mDACtCD,KAAa4C,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOtB,sBAAjD9J,qGAAAA,0BAAAA,UAAAA,SAOCyM,UAAUjB,UAAQzL,KAAGqM,GAAGhB,OAAOzI,OAASqH,GAAWG,kLA8BhC,MAArBsC,UAAUd,qOAvJb3L,2HAAAA,8OA3IA8H,EAAW,IAAIyD,GNiCrB,IAAwCqB,EAAOvI,EAAPuI,IAAOvI,8BACjCvB,GAAG6C,WAAW7B,KAV5B,SAAmB8I,EAAOvI,GACtB,MAAMwI,EAAQD,EAAMZ,UAAU3H,GAC9B,OAAOwI,EAAMC,YAAc,IAAMD,EAAMC,cAAgBD,EAQ1Bb,CAAUY,EAAOvI,IMjChDyD,EAASiF,aACT,IAAIhN,EAAI,EACJqM,EAAI,EAMJY,EAAe,KACe,IAA5BlF,EAAS0D,QAAQxL,QAA+C,IAA/B8H,EAAS0D,QAAQzL,GAAGC,SAGzD8H,EAASkF,aAAajN,EAAGqM,GAErBrM,GAAK+H,EAAS0D,QAAQxL,SACxBD,cAEEqM,GAAKtE,EAAS0D,QAAQzL,GAAGC,SAC3BoM,gBAKAM,EAAS,kEACVA,EAASD,EAAUnB,6lDCtCZ,kEAAQ,CACnBnM,OAAQiB,SAAS6M"}